<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-protocol/peer-protocol">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Peer Protocol | Chia Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.chia.net/zh/img/og-chia.png"><meta data-rh="true" name="twitter:image" content="https://docs.chia.net/zh/img/og-chia.png"><meta data-rh="true" property="og:url" content="https://docs.chia.net/zh/peer-protocol"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Peer Protocol | Chia Documentation"><meta data-rh="true" name="description" content="This protocol is a bidirectional protocol for communication between full nodes in the Chia system."><meta data-rh="true" property="og:description" content="This protocol is a bidirectional protocol for communication between full nodes in the Chia system."><link data-rh="true" rel="icon" href="/zh/img/chia_leaf_green.svg"><link data-rh="true" rel="canonical" href="https://docs.chia.net/zh/peer-protocol"><link data-rh="true" rel="alternate" href="https://docs.chia.net/peer-protocol" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.chia.net/zh/peer-protocol" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.chia.net/peer-protocol" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6HSSLLPE6Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-6HSSLLPE6Q",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/zh/assets/css/styles.ba722525.css">
<link rel="preload" href="/zh/assets/js/runtime~main.7a757694.js" as="script">
<link rel="preload" href="/zh/assets/js/main.db18a78d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chia Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/introduction">Docs</a><a class="navbar__item navbar__link" href="/zh/guides/crash-course/introduction">Guides</a><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chialisp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chia-blockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/introduction">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/plotting-basics">Plotting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/farming-basics">Farming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/rpc">RPC Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/cat-admin-cli">CLI Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/coin-set-intro">Coin Set Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/architecture-overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/consensus-intro">Consensus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/key-architecture">Keys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/chia-protocol">Protocol</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/chia-protocol">Chia Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/networking-protocol">Networking Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/serialization-protocol">Serialization Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/harvester-protocol">Harvester Protocol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/peer-protocol">Peer Protocol</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zh/pool-protocol">Pool Protocol</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/wallet-protocol">Wallet Protocol</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/check-if-things-are-working">Reference Client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/green-paper-abstract">Green Paper</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/references">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Protocol</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Peer Protocol</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Peer Protocol</h1></header><p>This protocol is a bidirectional protocol for communication between full nodes in the Chia system.
The sender is the full node sending the message, and the recipient is the full node that is receiving the message.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new_peak">new_peak<a href="#new_peak" class="hash-link" aria-label="new_peak的直接链接" title="new_peak的直接链接">​</a></h2><p>Sent to peers whenever our node&#x27;s peak weight advances (whenever the blockchain moves forward).
The fork point allows peers to detect how deep of a reorg happened, and fetch the correct blocks.
The unfinished reward block hash allows the receiving peer to use their cache for unfinished blocks,
since they most likely already have the unfinished
version of the same block, and therefore don&#x27;t need to re-request the block transactions generator.</p><p>Usually, during normal operation, peers will ask for just the latest block, or
ignore this message if they have already received it from another peer. If we are a few blocks behind, blocks are
fetched one by one in reverse order up to the fork.</p><p>If we are far behind this peak, we will start a batch sync (download a few tens of blocks in batches) or a long sync,
where we download a weight proof and then download many blocks in batches.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">NewPeak</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32    </span><span class="token comment" style="color:#73737D;font-weight:normal"># header_hash of new block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32          </span><span class="token comment" style="color:#73737D;font-weight:normal"># height of new block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    weight</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint128         </span><span class="token comment" style="color:#73737D;font-weight:normal"># weight of new block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fork_point_with_previous_peak</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    unfinished_reward_block_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new_transaction">new_transaction<a href="#new_transaction" class="hash-link" aria-label="new_transaction的直接链接" title="new_transaction的直接链接">​</a></h2><p>Sent to peers when a new spend bundle has been added to the mempool. The receiving peer can then choose to ignore
it, or request the whole transaction.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">NewTransaction</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    transaction_id</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32  </span><span class="token comment" style="color:#73737D;font-weight:normal"># hash of the spend bundle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    cost</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint64             </span><span class="token comment" style="color:#73737D;font-weight:normal"># cost of the transaction, used to see if fees are sufficient for mempool inclusion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    fees</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint64             </span><span class="token comment" style="color:#73737D;font-weight:normal"># fees in mojo of transaction, used to see if fees are sufficient for mempool inclusion</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_transaction">request_transaction<a href="#request_transaction" class="hash-link" aria-label="request_transaction的直接链接" title="request_transaction的直接链接">​</a></h2><p>Request for a full transaction (spend bundle) from a peer by its id. If a peer does not respond, other peers are contacted
for the same transaction.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestTransaction</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    transaction_id</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32  </span><span class="token comment" style="color:#73737D;font-weight:normal"># hash of the spendbundle</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_transaction">respond_transaction<a href="#respond_transaction" class="hash-link" aria-label="respond_transaction的直接链接" title="respond_transaction的直接链接">​</a></h2><p>Response for a <code>request_transaction</code> message. Sends a spend bundle to a peer. To see the contents of a <code>SpendBundle</code>, see the <a href="/zh/spend-bundles">Spend Bundles page</a>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondTransaction</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    transaction</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> SpendBundle</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_proof_of_weight">request_proof_of_weight<a href="#request_proof_of_weight" class="hash-link" aria-label="request_proof_of_weight的直接链接" title="request_proof_of_weight的直接链接">​</a></h2><p>Request a weight proof from a peer. This is done right before starting a long sync. The weight proof allows our
node to validate whether a <code>new_peak</code> that we received from a peer corresponds to an actual valid blockchain. It is
proof that a certain amount of &quot;weight&quot;, or space and time, has been used on that blockchain.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestProofOfWeight</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    total_number_of_blocks</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32  </span><span class="token comment" style="color:#73737D;font-weight:normal"># Height of the peak block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    tip</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32                    </span><span class="token comment" style="color:#73737D;font-weight:normal"># The header_hash of the peak block</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_proof_of_weight">respond_proof_of_weight<a href="#respond_proof_of_weight" class="hash-link" aria-label="respond_proof_of_weight的直接链接" title="respond_proof_of_weight的直接链接">​</a></h2><p>Response to a <code>request_proof_of_weight</code> message. Note that weight proofs can be quite large, in the tens of MB range.
If the chain VDFs are compressed (aka blueboxed), then they weight proofs will be smaller.
This is the V1 version of weight proofs, more efficient versions might be added in the future.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondProofOfWeight</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    wp</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> WeightProof</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    tip</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_block">request_block<a href="#request_block" class="hash-link" aria-label="request_block的直接链接" title="request_block的直接链接">​</a></h2><p>Request for a block at a certain height from a peer. Called after receiving a <code>new_peak</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32                   </span><span class="token comment" style="color:#73737D;font-weight:normal"># Height of the block to request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    include_transaction_block</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> </span><span class="token builtin" style="color:#127EAF">bool</span><span class="token plain">  </span><span class="token comment" style="color:#73737D;font-weight:normal"># Whether to include transaction data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_block">respond_block<a href="#respond_block" class="hash-link" aria-label="respond_block的直接链接" title="respond_block的直接链接">​</a></h2><p>Response to a <code>request_block</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    block</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> FullBlock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reject_block">reject_block<a href="#reject_block" class="hash-link" aria-label="reject_block的直接链接" title="reject_block的直接链接">​</a></h2><p>Rejection to a <code>request_block</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RejectBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_blocks">request_blocks<a href="#request_blocks" class="hash-link" aria-label="request_blocks的直接链接" title="request_blocks的直接链接">​</a></h2><p>Request multiple blocks at once from a peer.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestBlocks</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    start_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    end_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32               </span><span class="token comment" style="color:#73737D;font-weight:normal"># Inclusive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    include_transaction_block</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> </span><span class="token builtin" style="color:#127EAF">bool</span><span class="token plain">  </span><span class="token comment" style="color:#73737D;font-weight:normal"># Whether to include transaction data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_blocks">respond_blocks<a href="#respond_blocks" class="hash-link" aria-label="respond_blocks的直接链接" title="respond_blocks的直接链接">​</a></h2><p>Response to a <code>request_blocks</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondBlocks</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    start_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    end_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    blocks</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">FullBlock</span><span class="token punctuation" style="color:#383a42">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reject_blocks">reject_blocks<a href="#reject_blocks" class="hash-link" aria-label="reject_blocks的直接链接" title="reject_blocks的直接链接">​</a></h2><p>Rejection to a <code>request_blocks</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RejectBlocks</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    start_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    end_height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new_unfinished_block">new_unfinished_block<a href="#new_unfinished_block" class="hash-link" aria-label="new_unfinished_block的直接链接" title="new_unfinished_block的直接链接">​</a></h2><p>Notification to another peer that a new unfinished block was added to the cache. These unfinished blocks are kept
around temporarily, until the infusion point VDF is released, and the block can be &quot;finished&quot; and added to the blockchain.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">NewUnfinishedBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    unfinished_reward_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_unfinished_block">request_unfinished_block<a href="#request_unfinished_block" class="hash-link" aria-label="request_unfinished_block的直接链接" title="request_unfinished_block的直接链接">​</a></h2><p>Request for an unfinished block from a peer.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestUnfinishedBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    unfinished_reward_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_unfinished_block">respond_unfinished_block<a href="#respond_unfinished_block" class="hash-link" aria-label="respond_unfinished_block的直接链接" title="respond_unfinished_block的直接链接">​</a></h2><p>Response to a <code>request_unfinished_block</code> message.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondUnfinishedBlock</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    unfinished_block</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> UnfinishedBlock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new_signage_point_or_end_of_sub_slot">new_signage_point_or_end_of_sub_slot<a href="#new_signage_point_or_end_of_sub_slot" class="hash-link" aria-label="new_signage_point_or_end_of_sub_slot的直接链接" title="new_signage_point_or_end_of_sub_slot的直接链接">​</a></h2><p>Sent when the node adds a new signage point or a new end of sub slot to the full node store. The receiver can choose
to request the object, or potentially request the previous sub slot, if they are far behind. For example, recently
synced up to the peak of the blockchain.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">NewSignagePointOrEndOfSubSlot</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    prev_challenge_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">bytes32</span><span class="token punctuation" style="color:#383a42">]</span><span class="token plain">  </span><span class="token comment" style="color:#73737D;font-weight:normal"># Challenge hash at the start of the previous sub slot, if present</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    challenge_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32                 </span><span class="token comment" style="color:#73737D;font-weight:normal"># Challenge hash at the start of the sub slot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8             </span><span class="token comment" style="color:#73737D;font-weight:normal"># Index from the start, 0 for end of sub slot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    last_rc_infusion</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32               </span><span class="token comment" style="color:#73737D;font-weight:normal"># Last reward chain infusion hash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_signage_point_or_end_of_sub_slot">request_signage_point_or_end_of_sub_slot<a href="#request_signage_point_or_end_of_sub_slot" class="hash-link" aria-label="request_signage_point_or_end_of_sub_slot的直接链接" title="request_signage_point_or_end_of_sub_slot的直接链接">​</a></h2><p>Request for a signage point or end of slot.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestSignagePointOrEndOfSubSlot</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    challenge_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    last_rc_infusion</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_signage_point">respond_signage_point<a href="#respond_signage_point" class="hash-link" aria-label="respond_signage_point的直接链接" title="respond_signage_point的直接链接">​</a></h2><p>Response for <code>request_signage_point_or_end_of_sub_slot</code>. After receiving this message, the recipient will check that
all VDFs are correct, and forward it to other full nodes and potentially farmers.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondSignagePoint</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    index_from_challenge</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8       </span><span class="token comment" style="color:#73737D;font-weight:normal"># Which index out of the 64 signage points, cannot be 0 since that is the EOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    challenge_chain_vdf</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFInfo</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    challenge_chain_proof</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFProof</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    reward_chain_vdf</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFInfo</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    reward_chain_proof</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFProof</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_end_of_sub_slot">respond_end_of_sub_slot<a href="#respond_end_of_sub_slot" class="hash-link" aria-label="respond_end_of_sub_slot的直接链接" title="respond_end_of_sub_slot的直接链接">​</a></h2><p>Another response for <code>request_signage_point_or_end_of_sub_slot</code> in the case where <code>index_from_challenge</code> is zero.
This is also verified and forwarded by the full node, similar to signage points.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondEndOfSubSlot</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    end_of_slot_bundle</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> EndOfSubSlotBundle</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_mempool_transactions">request_mempool_transactions<a href="#request_mempool_transactions" class="hash-link" aria-label="request_mempool_transactions的直接链接" title="request_mempool_transactions的直接链接">​</a></h2><p>This is a request for transactions in the mempool. The filter corresponds to a BIP158 Compact Block Filter, which
allows the recipient to see what transactions the sender already has (with some small chance for false positives),
without sending all transaction IDs. The recipient can then respond using <code>respond_transction</code> directly, but should
not send a very large number of transactions, to not overwhelm the original sending peer.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestMempoolTransactions</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token builtin" style="color:#127EAF">filter</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> </span><span class="token builtin" style="color:#127EAF">bytes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="new_compact_vdf">new_compact_vdf<a href="#new_compact_vdf" class="hash-link" aria-label="new_compact_vdf的直接链接" title="new_compact_vdf的直接链接">​</a></h2><p>A notification to a peer that a new compact VDF has been added to the blockchain. Compact VDFs
are smaller versions of VDF proofs present in blocks. They do not change the block itself, they just
compress the block data to keep the DB smaller and sync time lower. The actual proof</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">NewCompactVDF</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32           </span><span class="token comment" style="color:#73737D;font-weight:normal"># Height of the block which has a new VDF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32     </span><span class="token comment" style="color:#73737D;font-weight:normal"># Header hash of that block</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8         </span><span class="token comment" style="color:#73737D;font-weight:normal"># Which VDF in that block was updated (blocks have multiple VDFs)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFInfo        </span><span class="token comment" style="color:#73737D;font-weight:normal"># Info of the VDF that was updated</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_compact_vdf">request_compact_vdf<a href="#request_compact_vdf" class="hash-link" aria-label="request_compact_vdf的直接链接" title="request_compact_vdf的直接链接">​</a></h2><p>A request to a peer for a compact VDf.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestCompactVDF</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFInfo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_compact_vdf">respond_compact_vdf<a href="#respond_compact_vdf" class="hash-link" aria-label="respond_compact_vdf的直接链接" title="respond_compact_vdf的直接链接">​</a></h2><p>A response to a peer that requested a compact VDF.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondCompactVDF</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    height</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    header_hash</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> bytes32</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    field_vdf</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> uint8</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    vdf_info</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFInfo</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    vdf_proof</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> VDFProof</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="request_peers">request_peers<a href="#request_peers" class="hash-link" aria-label="request_peers的直接链接" title="request_peers的直接链接">​</a></h2><p>Request a list of peers. There is no body in this message. This is usually sent when connecting
to a peer.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RequestPeers</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#B35C00;font-weight:normal">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token triple-quoted-string string" style="color:#B35C00;font-weight:normal">    Return full list of peers</span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token triple-quoted-string string" style="color:#B35C00;font-weight:normal">    &quot;&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="respond_peers">respond_peers<a href="#respond_peers" class="hash-link" aria-label="respond_peers的直接链接" title="respond_peers的直接链接">​</a></h2><p>A response to <code>request_peers</code>, containing a list of ip and port for each peer. Must be no larger than 1000.
The timestamp corresponds to the last time this peer&#x27;s record was updated, based on the peer DB update rules.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#383a42;--prism-background-color:#fafafa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token keyword" style="color:#990096">class</span><span class="token plain"> </span><span class="token class-name" style="color:#006100">RespondPeers</span><span class="token punctuation" style="color:#383a42">(</span><span class="token plain">Streamable</span><span class="token punctuation" style="color:#383a42">)</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">    peer_list</span><span class="token punctuation" style="color:#383a42">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:#383a42">[</span><span class="token plain">TimestampedPeerInfo</span><span class="token punctuation" style="color:#383a42">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/protocol/peer-protocol.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/harvester-protocol"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Harvester Protocol</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/pool-protocol"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Summary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new_peak" class="table-of-contents__link toc-highlight">new_peak</a></li><li><a href="#new_transaction" class="table-of-contents__link toc-highlight">new_transaction</a></li><li><a href="#request_transaction" class="table-of-contents__link toc-highlight">request_transaction</a></li><li><a href="#respond_transaction" class="table-of-contents__link toc-highlight">respond_transaction</a></li><li><a href="#request_proof_of_weight" class="table-of-contents__link toc-highlight">request_proof_of_weight</a></li><li><a href="#respond_proof_of_weight" class="table-of-contents__link toc-highlight">respond_proof_of_weight</a></li><li><a href="#request_block" class="table-of-contents__link toc-highlight">request_block</a></li><li><a href="#respond_block" class="table-of-contents__link toc-highlight">respond_block</a></li><li><a href="#reject_block" class="table-of-contents__link toc-highlight">reject_block</a></li><li><a href="#request_blocks" class="table-of-contents__link toc-highlight">request_blocks</a></li><li><a href="#respond_blocks" class="table-of-contents__link toc-highlight">respond_blocks</a></li><li><a href="#reject_blocks" class="table-of-contents__link toc-highlight">reject_blocks</a></li><li><a href="#new_unfinished_block" class="table-of-contents__link toc-highlight">new_unfinished_block</a></li><li><a href="#request_unfinished_block" class="table-of-contents__link toc-highlight">request_unfinished_block</a></li><li><a href="#respond_unfinished_block" class="table-of-contents__link toc-highlight">respond_unfinished_block</a></li><li><a href="#new_signage_point_or_end_of_sub_slot" class="table-of-contents__link toc-highlight">new_signage_point_or_end_of_sub_slot</a></li><li><a href="#request_signage_point_or_end_of_sub_slot" class="table-of-contents__link toc-highlight">request_signage_point_or_end_of_sub_slot</a></li><li><a href="#respond_signage_point" class="table-of-contents__link toc-highlight">respond_signage_point</a></li><li><a href="#respond_end_of_sub_slot" class="table-of-contents__link toc-highlight">respond_end_of_sub_slot</a></li><li><a href="#request_mempool_transactions" class="table-of-contents__link toc-highlight">request_mempool_transactions</a></li><li><a href="#new_compact_vdf" class="table-of-contents__link toc-highlight">new_compact_vdf</a></li><li><a href="#request_compact_vdf" class="table-of-contents__link toc-highlight">request_compact_vdf</a></li><li><a href="#respond_compact_vdf" class="table-of-contents__link toc-highlight">respond_compact_vdf</a></li><li><a href="#request_peers" class="table-of-contents__link toc-highlight">request_peers</a></li><li><a href="#respond_peers" class="table-of-contents__link toc-highlight">respond_peers</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://docs.chia.net/consensus-intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants</a></li><li class="footer__item"><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://chia.net/terms">Terms</a></div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.7a757694.js"></script>
<script src="/zh/assets/js/main.db18a78d.js"></script>
</body>
</html>