<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-coin-set-model/conditions">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Conditions | Chia Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.chia.net/zh/img/og-chia.png"><meta data-rh="true" name="twitter:image" content="https://docs.chia.net/zh/img/og-chia.png"><meta data-rh="true" property="og:url" content="https://docs.chia.net/zh/conditions"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Conditions | Chia Documentation"><meta data-rh="true" name="description" content="When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid."><meta data-rh="true" property="og:description" content="When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid."><link data-rh="true" rel="icon" href="/zh/svg/chia-leaf-green.svg"><link data-rh="true" rel="canonical" href="https://docs.chia.net/zh/conditions"><link data-rh="true" rel="alternate" href="https://docs.chia.net/conditions" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.chia.net/zh/conditions" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.chia.net/conditions" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/matomo.js" async defer="defer"></script><link rel="stylesheet" href="/zh/assets/css/styles.8d7edd23.css">
<link rel="preload" href="/zh/assets/js/runtime~main.4f0af7ef.js" as="script">
<link rel="preload" href="/zh/assets/js/main.1e196e9d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/svg/chia-leaf-green.svg" alt="Chia Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Chia Docs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/introduction">Docs</a><a class="navbar__item navbar__link" href="/zh/guides/crash-course/introduction">Guides</a><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chialisp<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chia Network<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chia-blockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/introduction">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/plotting-basics">Plotting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/farming-basics">Farming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/rpc">RPC Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/cli">CLI Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/walletconnect-commands">WalletConnect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/coin-set-intro">Coin Set Model</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/coin-set-intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/coin-set-costs">Costs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/conditions">Conditions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/spend-bundles">Spend Bundles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/addresses">Addresses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/coin-set-security">Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/coin-set-vs-utxo">Coin Set vs UTXO Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/coin-set-vs-account">Coin Set vs Account Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/clvm-vs-evm">CLVM vs EVM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/architecture-overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/consensus-intro">Consensus</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/key-architecture">Keys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/chia-protocol">Protocol</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/check-if-things-are-working">Reference Client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/green-paper-abstract">Green Paper</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/references">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Coin Set Model</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Conditions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Conditions</h1></header><p>When a coin is spent, its puzzle is executed on the Chialisp Virtual Machine (CLVM). If the program does not fail, it returns a list of conditions. These conditions determine what the outcome of the spend is, and whether or not the spend is valid.</p><p>Puzzles have no access to the outside world, or even to blockchain parameters like block height. Therefore, to interact with the outside environment, they return a list of conditions, each of which must be valid in order for the spend itself to be valid.</p><p>There are two kinds of conditions. Some require something to be true (such as time passing) in order for the spend to be valid. And others cause something to happen if the spend is valid (such as the creation of new coins).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="list">Condition List<a href="#list" class="hash-link" aria-label="Condition List的直接链接" title="Condition List的直接链接">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>危险</div><div class="admonitionContent_S0QG"><p>Be vigilant when using <code>ASSERT_MY_COIN_ID</code> as a shortcut for validating the parent coin id, puzzle hash, and amount. If they are passed into the solution separately, then validated all at once by hashing them together, it is possible to shift the bytes to the left or right and manipulate the values.</p><p>Consider either checking them individually or verifying that the hashes are indeed 32 bytes in length.</p></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>危险</div><div class="admonitionContent_S0QG"><p><code>ASSERT_COIN_ANNOUNCEMENT</code> and <code>ASSERT_PUZZLE_ANNOUNCEMENT</code> should typically only be used in a puzzle&#x27;s <em>solution</em>, and not in the puzzle itself. This is especially important when using <code>ASSERT_COIN_ANNOUNCEMENT</code>, because it refers to a specific coin.</p><p>To illustrate the danger, let&#x27;s say <code>coin A</code> uses this condition in its puzzle, and it asserts a coin announcement from <code>coin B</code>.
In this case, <code>coin A</code> requires <code>coin B</code> to be spent in the same block as it is spent.
If <code>coin B</code> is spent before <code>coin A</code>, then <code>coin A</code> can <em>never</em> be spent.</p><p>However, if this condition is instead used in the <em>solution</em> for <code>coin A</code>, and <code>coin B</code> has already been spent, then <code>coin A</code> can still be spent later, albeit with a different solution.</p><p>It is somewhat less dangerous to use <code>ASSERT_PUZZLE_ANNOUNCEMENT</code> in a coin&#x27;s puzzle because it only relies on a coin with a specific puzzle, and many such coins might exist.
However, it is still best practice to only use this condition in a coin&#x27;s solution.</p></div></div><p>This is an extensive list of each condition allowed on the Chia blockchain.</p><table><thead><tr><th>Condition</th><th>Format</th><th>Description</th></tr></thead><tbody><tr><td>REMARK</td><td><code>(1)</code></td><td>Always a valid condition.</td></tr><tr><td>AGG_SIG_UNSAFE</td><td><code>(49 public_key message)</code></td><td>Verifies a signature by its <code>public_key</code> and <code>message</code>. Usually <code>AGG_SIG_ME</code> is safer.</td></tr><tr><td>AGG_SIG_ME</td><td><code>(50 public_key message)</code></td><td>Like <code>AGG_SIG_UNSAFE</code>, but including the coin id and genesis id to prevent replay attacks.</td></tr><tr><td>CREATE_COIN</td><td><code>(51 puzzle_hash amount (memos))</code></td><td>Creates a coin with a given <code>puzzle_hash</code>, <code>amount</code>, and optional <code>memo</code> (first is a hint).</td></tr><tr><td>RESERVE_FEE</td><td><code>(52 amount)</code></td><td>Requires a given <code>amount</code> to be remaining in the transaction as a fee.</td></tr><tr><td>CREATE_COIN_ANNOUNCEMENT</td><td><code>(60 message)</code></td><td>Creates an announcement with a given <code>message</code>, tied to this coin.</td></tr><tr><td>ASSERT_COIN_ANNOUNCEMENT</td><td><code>(61 announcement_id)</code></td><td>Asserts a coin announcement was created within this transaction by its <code>announcement_id</code>.</td></tr><tr><td>CREATE_PUZZLE_ANNOUNCEMENT</td><td><code>(62 message)</code></td><td>Creates an announcement with a given <code>message</code>, tied to this puzzle.</td></tr><tr><td>ASSERT_PUZZLE_ANNOUNCEMENT</td><td><code>(63 announcement_id)</code></td><td>Asserts a puzzle announcement was created within this transaction by its <code>announcement_id</code>.</td></tr><tr><td>ASSERT_CONCURRENT_SPEND</td><td><code>(64 coin_id)</code></td><td>Asserts that this coin is spent in the same block as a given <code>coin_id</code>.</td></tr><tr><td>ASSERT_CONCURRENT_PUZZLE</td><td><code>(65 puzzle_hash)</code></td><td>Asserts that this coin is spent in the same block as a coin with a given <code>puzzle_hash</code>.</td></tr><tr><td>ASSERT_MY_COIN_ID</td><td><code>(70 coin_id)</code></td><td>Asserts that the coin&#x27;s id matches the given <code>coin_id</code>.</td></tr><tr><td>ASSERT_MY_PARENT_ID</td><td><code>(71 parent_id)</code></td><td>Asserts that the coin&#x27;s parent id matches the given <code>parent_id</code>.</td></tr><tr><td>ASSERT_MY_PUZZLEHASH</td><td><code>(72 puzzle_hash)</code></td><td>Asserts that the coin&#x27;s puzzle hash matches the given <code>puzzle_hash</code>.</td></tr><tr><td>ASSERT_MY_AMOUNT</td><td><code>(73 amount)</code></td><td>Asserts that the coin&#x27;s amount matches the given <code>amount</code>.</td></tr><tr><td>ASSERT_MY_BIRTH_SECONDS</td><td><code>(74 seconds)</code></td><td>Asserts that the coin was created with a timestamp of <code>seconds</code>.</td></tr><tr><td>ASSERT_MY_BIRTH_HEIGHT</td><td><code>(75 block_height)</code></td><td>Asserts that the coin was created on a given <code>block_height</code>.</td></tr><tr><td>ASSERT_EPHEMERAL</td><td><code>(76)</code></td><td>Asserts that the coin was both created and spent on the current block.</td></tr><tr><td>ASSERT_SECONDS_RELATIVE</td><td><code>(80 seconds_passed)</code></td><td>Asserts that the previous transaction block&#x27;s timestamp was at least <code>seconds_passed</code> seconds after coin creation.</td></tr><tr><td>ASSERT_SECONDS_ABSOLUTE</td><td><code>(81 seconds)</code></td><td>Asserts that the previous transaction block&#x27;s timestamp was at least <code>seconds</code>.</td></tr><tr><td>ASSERT_HEIGHT_RELATIVE</td><td><code>(82 block_height_passed)</code></td><td>Asserts that the previous transaction block&#x27;s height was at least <code>block_height_passed</code> after coin creation.</td></tr><tr><td>ASSERT_HEIGHT_ABSOLUTE</td><td><code>(83 block_height)</code></td><td>Asserts that the previous transaction block&#x27;s height was at least <code>block_height</code>.</td></tr><tr><td>ASSERT_BEFORE_SECONDS_RELATIVE</td><td><code>(84 seconds_passed)</code></td><td>Asserts that the previous transaction block&#x27;s timestamp was less than <code>seconds_passed</code> seconds after coin creation.</td></tr><tr><td>ASSERT_BEFORE_SECONDS_ABSOLUTE</td><td><code>(85 seconds)</code></td><td>Asserts that the previous transaction block&#x27;s timestamp was less than <code>seconds</code>.</td></tr><tr><td>ASSERT_BEFORE_HEIGHT_RELATIVE</td><td><code>(86 block_height_passed)</code></td><td>Asserts that the previous transaction block&#x27;s height was less than <code>seconds_passed</code> after coin creation.</td></tr><tr><td>ASSERT_BEFORE_HEIGHT_ABSOLUTE</td><td><code>(87 block_height)</code></td><td>Asserts that the previous transaction block&#x27;s height was less than <code>block_height</code>.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="costs">Condition Costs<a href="#costs" class="hash-link" aria-label="Condition Costs的直接链接" title="Condition Costs的直接链接">​</a></h2><p>Conditions not listed here do not have a cost associated with them.</p><table><thead><tr><th>Condition</th><th>Cost</th></tr></thead><tbody><tr><td>CREATE_COIN</td><td>1800000</td></tr><tr><td>AGG_SIG_UNSAFE</td><td>1200000</td></tr><tr><td>AGG_SIG_ME</td><td>1200000</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hinting">Hinting<a href="#hinting" class="hash-link" aria-label="Hinting的直接链接" title="Hinting的直接链接">​</a></h2><p>When creating a coin, there is an optional <code>memos</code> parameter in addition to the <code>puzzle_hash</code> and <code>amount</code>. Wallets use the first memo parameter to discover assets (by hinting the corresponding <code>puzzle_hash</code> of the address it was sent to). This hint value is then stored in the blockchain database for easy lookup.</p><p>A wallet will typically look up each of its addresses by hint to get a record for every coin. It can then find the puzzle reveal from its parent coin&#x27;s spend, which is then used to identify and validate the coin. This info can then be used to spend the coin later on.</p><p>Without hinting, a wallet would have to either look at millions of coins to figure out which of them it owns. Hints are a powerful and flexible way to optimize this lookup.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="announcements">Announcements<a href="#announcements" class="hash-link" aria-label="Announcements的直接链接" title="Announcements的直接链接">​</a></h2><p>Announcements are ephemeral, meaning that they don&#x27;t last forever. They can only be asserted within the block they are created. Their purpose is to ensure multiple coins are spent together, either for fees, verification, or as a security measure.</p><p>For coin announcements, the id is the <code>coin_id</code> and <code>message</code> sha256 hashed together. Likewise, for puzzle announcements, it&#x27;s the <code>puzzle_hash</code> and <code>message</code> sha256 hashed together.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Chia-Network/chia-docs/blob/main/docs/coin-set-model/conditions.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/coin-set-costs"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Costs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/spend-bundles"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Spend Bundles</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#list" class="table-of-contents__link toc-highlight">Condition List</a></li><li><a href="#costs" class="table-of-contents__link toc-highlight">Condition Costs</a></li><li><a href="#hinting" class="table-of-contents__link toc-highlight">Hinting</a></li><li><a href="#announcements" class="table-of-contents__link toc-highlight">Announcements</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Approach</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/approach" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper</a></li></ul></div><div class="col footer__col"><div class="footer__title">Technology</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/greenpaper" target="_blank" rel="noopener noreferrer" class="footer__link-item">Green Paper</a></li><li class="footer__item"><a href="https://docs.chia.net/consensus-intro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus 1.1</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants</a></li><li class="footer__item"><a href="https://chialisp.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chialisp</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://chia.net/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">About</a></li><li class="footer__item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://chia.net/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Chia Network Inc., Licensed under the <a href="https://github.com/Chia-Network/chia-docs/blob/main/LICENSE" target="_blank">Apache License, Version 2.0</a> | <a href="https://chia.net/terms">Terms</a></div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.4f0af7ef.js"></script>
<script src="/zh/assets/js/main.1e196e9d.js"></script>
</body>
</html>