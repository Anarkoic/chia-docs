"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[9740],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>y});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=a,y=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?r.createElement(y,o(o({ref:t},p),{},{components:n})):r.createElement(y,o({ref:t},p))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6259:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const i={title:"Key Management",slug:"/chia-key-management"},o=void 0,l={unversionedId:"reference-client/key-management",id:"reference-client/key-management",title:"Key Management",description:"The purpose of this page is to provide guidance on how to setup Chia keys for plotting, farming, receiving rewards and managing your wallet.",source:"@site/docs/reference-client/key-management.md",sourceDirName:"reference-client",slug:"/chia-key-management",permalink:"/zh/chia-key-management",draft:!1,editUrl:"https://github.com/Chia-Network/{{ REPOSITORY_NAME }}/blob/main/docs/reference-client/key-management.md",tags:[],version:"current",frontMatter:{title:"Key Management",slug:"/chia-key-management"},sidebar:"tutorialSidebar",previous:{title:"Node Syncing",permalink:"/zh/node-syncing"},next:{title:"Logging Reference",permalink:"/zh/logging-reference"}},s={},c=[{value:"1 key (default)",id:"1-key-default",level:2},{value:"2 Keys (farming key + cold storage key)",id:"2-keys-farming-key--cold-storage-key",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The purpose of this page is to provide guidance on how to setup Chia keys for plotting, farming, receiving rewards and managing your wallet.\nIt does not explain the Chia Keys Architecture. You can find this ",(0,a.kt)("a",{parentName:"p",href:"/key-architecture"},"Chia Keys Architecture")," explanation.\nIt is mostly CLI focused; sorry GUI users."),(0,a.kt)("h2",{id:"1-key-default"},"1 key (default)"),(0,a.kt)("p",null,"This solution is the most straightforward, you use only one key for everything: plotting, farming, receiving rewards, managing your wallet.\nIt is the default configuration when you install chia-network for the first time.\nThe CLI (or GUI) creates a new private master key on the first initialization. Show can see it's mnemonic by typing ",(0,a.kt)("inlineCode",{parentName:"p"},"chia keys show"),"."),(0,a.kt)("p",null,"By default, the rewards from farming will be sent to this private key's wallet address."),(0,a.kt)("p",null,"With this setup you can farm, plot and manage your XCH all at once.\nThe risk is that, if your computer is compromised, the attacker would have access to your wallet and could potentially steal the XCH."),(0,a.kt)("p",null,"Another solution for farming XCH and securing them is to use two keys:"),(0,a.kt)("h2",{id:"2-keys-farming-key--cold-storage-key"},"2 Keys (farming key + cold storage key)"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Default key used for: plotting and farming"),(0,a.kt)("li",{parentName:"ol"},"Cold storage key used for: Wallet operations. Receiving/Sending funds and receiving farming rewards.")),(0,a.kt)("p",null,"The downside of that solution is that you will not have direct access to your wallet and XCH. Would you want to do an XCH operation you will have to manually import the cold storage key. The upside is: even if your computer is compromised the attacker will not be able to access your wallet. Since the private key receiving rewards will not be stored on it."),(0,a.kt)("p",null,"Configuration steps:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},'Create a second key for "wallet" operation purposes: ',(0,a.kt)("inlineCode",{parentName:"li"},"chia keys generate")),(0,a.kt)("li",{parentName:"ul"},"Write down the mnemonic on a paper you will not lose. If you lose it your key and XCH will be lost for ever !"),(0,a.kt)("li",{parentName:"ul"},"Remember the fingerprint for the next step"),(0,a.kt)("li",{parentName:"ul"},'Find the "First wallet address": ',(0,a.kt)("inlineCode",{parentName:"li"},"chia keys show")," and copy it"),(0,a.kt)("li",{parentName:"ul"},"Open ",(0,a.kt)("inlineCode",{parentName:"li"},"~/.chia/mainnet/config/config.yaml")),(0,a.kt)("li",{parentName:"ul"},"Edit: ",(0,a.kt)("inlineCode",{parentName:"li"},"xch_target_address: XXX"),' replace it with the newly generated "First wallet address".',(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"There should be two occurrence of ",(0,a.kt)("inlineCode",{parentName:"li"},"xch_target_address"),". One under the ",(0,a.kt)("inlineCode",{parentName:"li"},"farmer")," section and the other one under the ",(0,a.kt)("inlineCode",{parentName:"li"},"pool")," section."))),(0,a.kt)("li",{parentName:"ul"},"Save the file and close it."),(0,a.kt)("li",{parentName:"ul"},"Delete the second key: ",(0,a.kt)("inlineCode",{parentName:"li"},"chia keys delete -f <fingerprint>"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"/!\\ ",(0,a.kt)("strong",{parentName:"li"},"Caution"),": make sure you have a backup of the 24 words mnemonic or you will lose access to the key for ever."))),(0,a.kt)("li",{parentName:"ul"},'It should prompt a WARNING message like "Deleting private_key with fingerprint ',(0,a.kt)("inlineCode",{parentName:"li"},"<fingerprint>"),'"',(0,a.kt)("admonition",{parentName:"li",type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"Using a farmer address which we don't have the private keys for. We searched the first 500 addresses. Consider overriding ",(0,a.kt)("inlineCode",{parentName:"p"},"<cold-storage-wallet-address>")," with ",(0,a.kt)("inlineCode",{parentName:"p"},"<farmer-wallet-address>")))),(0,a.kt)("li",{parentName:"ul"},"Make sure the ",(0,a.kt)("inlineCode",{parentName:"li"},"<cold-storage-wallet-address>")," corresponds to your second key wallet address.")),(0,a.kt)("p",null,"Your setup is complete. Your machine can farm XCH and rewards will be sent to the key that you stored on paper.\nWould you need to transfer funds you can add it back to your computer's Chia keychain by doing: ",(0,a.kt)("inlineCode",{parentName:"p"},"chia keys add")))}d.isMDXComponent=!0}}]);