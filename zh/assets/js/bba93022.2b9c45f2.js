"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[2541],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),s=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(o.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=s(a),p=l,h=d["".concat(o,".").concat(p)]||d[p]||m[p]||i;return a?n.createElement(h,r(r({ref:t},u),{},{components:a})):n.createElement(h,r({ref:t},u))}));function h(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=p;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c[d]="string"==typeof e?e:l,r[1]=c;for(var s=2;s<i;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294),l=a(6010);const i={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:a,className:r}=e;return n.createElement("div",{role:"tabpanel",className:(0,l.Z)(i.tabItem,r),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(7462),l=a(7294),i=a(6010),r=a(2466),c=a(6550),o=a(1980),s=a(7392),u=a(12);function d(e){return function(e){return l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:l}}=e;return{value:t,label:a,attributes:n,default:l}}))}function m(e){const{values:t,children:a}=e;return(0,l.useMemo)((()=>{const e=t??d(a);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const n=(0,c.k6)(),i=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,o._X)(i),(0,l.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(n.location.search);t.set(i,e),n.replace({...n.location,search:t.toString()})}),[i,n])]}function k(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,i=m(e),[r,c]=(0,l.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:i}))),[o,s]=h({queryString:a,groupId:n}),[d,k]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,i]=(0,u.Nk)(a);return[n,(0,l.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:n}),b=(()=>{const e=o??d;return p({value:e,tabValues:i})?e:null})();(0,l.useLayoutEffect)((()=>{b&&c(b)}),[b]);return{selectedValue:r,selectValue:(0,l.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),s(e),k(e)}),[s,k,i]),tabValues:i}}var b=a(2389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function w(e){let{className:t,block:a,selectedValue:c,selectValue:o,tabValues:s}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.o5)(),m=e=>{const t=e.currentTarget,a=u.indexOf(t),n=s[a].value;n!==c&&(d(t),o(n))},p=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},s.map((e=>{let{value:t,label:a,attributes:r}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:c===t?0:-1,"aria-selected":c===t,key:t,ref:e=>u.push(e),onKeyDown:p,onClick:m},r,{className:(0,i.Z)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":c===t})}),a??t)})))}function g(e){let{lazy:t,children:a,selectedValue:n}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function N(e){const t=k(e);return l.createElement("div",{className:(0,i.Z)("tabs-container",f.tabList)},l.createElement(w,(0,n.Z)({},e,t)),l.createElement(g,(0,n.Z)({},e,t)))}function v(e){const t=(0,b.Z)();return l.createElement(N,(0,n.Z)({key:String(t)},e))}},2637:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>s});var n=a(7462),l=(a(7294),a(3905));a(4866),a(5162);const i={slug:"/guides/clawback-user-guide",title:"Clawback User Guide"},r=void 0,c={unversionedId:"guides/clawback/clawback-user-guide",id:"guides/clawback/clawback-user-guide",title:"Clawback User Guide",description:"Intro",source:"@site/docs/guides/clawback/clawback-user-guide.md",sourceDirName:"guides/clawback",slug:"/guides/clawback-user-guide",permalink:"/zh/guides/clawback-user-guide",draft:!1,editUrl:"https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/clawback/clawback-user-guide.md",tags:[],version:"current",frontMatter:{slug:"/guides/clawback-user-guide",title:"Clawback User Guide"},sidebar:"guides",previous:{title:"DataLayer Permissions",permalink:"/zh/guides/datalayer-permissions"},next:{title:"Clawback Primitive Guide",permalink:"/zh/guides/clawback-primitive-guide"}},o={},s=[{value:"Intro",id:"intro",level:2},{value:"Explanation",id:"explanation",level:2},{value:"GUI",id:"gui",level:2},{value:"Review Settings",id:"review-settings",level:3},{value:"Clawback",id:"clawback",level:3},{value:"Claim",id:"claim",level:3},{value:"CLI",id:"cli",level:2},{value:"Clawback",id:"clawback-1",level:3},{value:"Claim",id:"claim-1",level:3}],u={toc:s},d="wrapper";function m(e){let{components:t,...a}=e;return(0,l.kt)(d,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"intro"},"Intro"),(0,l.kt)("p",null,"This document is a guide for using the clawback functionality introduced in version 1.8.2 of Chia's reference wallet. ",(0,l.kt)("em",{parentName:"p"},"Clawback")," is a new feature that offers protection against sending XCH to the wrong address."),(0,l.kt)("p",null,"If you are a developer or a CLI user, see the following resources for more info:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/guides/clawback-primitive-guide"},"Clawback Standalone Primitive Guide")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/clawback-cli"},"Clawback Standalone Primitive CLI Reference")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=_pC38ulU2js"},"Youtube video explaining clawback"))),(0,l.kt)("p",null,"In order to use Chia clawbacks, you must have:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Version 1.8.2 or later of Chia's reference light wallet or full node. See our ",(0,l.kt)("a",{parentName:"li",href:"https://www.chia.net/downloads/"},"downloads page")," to obtain a copy."),(0,l.kt)("li",{parentName:"ul"},"A sufficient amount of XCH or TXCH to send a transaction and pay fees. If you do not have a sufficient amount, you can obtain some from our ",(0,l.kt)("a",{parentName:"li",href:"https://faucet.chia.net/"},"mainnet")," and ",(0,l.kt)("a",{parentName:"li",href:"https://testnet10-faucet.chia.net/"},"testnet")," faucets.")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"explanation"},"Explanation"),(0,l.kt)("p",null," ",(0,l.kt)("em",{parentName:"p"},"Clawback")," allows the sender of XCH to return funds to their wallet during a fixed window of time before the transaction can be completed."),(0,l.kt)("p",null," The following demonstrates an example workflow of this process:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"The sender sets up a 1-XCH transaction to the receiver's wallet, and adds a 10-minute clawback"),(0,l.kt)("li",{parentName:"ol"},"Instead of being sent directly to the receiver's wallet, the 1 XCH is sent to an intermediate location (see below for an explanation)"),(0,l.kt)("li",{parentName:"ol"},"For the next 10 minutes:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"The sender and receiver both see the pending 1-XCH transaction in their wallets"),(0,l.kt)("li",{parentName:"ul"},"The sender can choose to return the 1 XCH to his/her wallet (this is a ",(0,l.kt)("em",{parentName:"li"},"clawback"),")"),(0,l.kt)("li",{parentName:"ul"},"The receiver cannot yet claim the money"),(0,l.kt)("li",{parentName:"ul"},"The sender and receiver could communicate off-chain. For example, the sender could call the receiver and ask if the pending transaction appears in their wallet.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"If yes, then both parties can be confident that the money was sent to the correct address"),(0,l.kt)("li",{parentName:"ul"},"If no, then the money was sent to an incorrect address, so the sender will claw it back"))))),(0,l.kt)("li",{parentName:"ol"},"After 10 minutes, if the sender has not clawed the 1 XCH back, the receiver can claim it"),(0,l.kt)("li",{parentName:"ol"},"After the receiver has claimed the money, it appears in both wallets as a normal transaction. At this point, the transaction is complete; clawback is no longer possible")),(0,l.kt)("p",null,'The "intermediate location" is actually a coin with two rules:'),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Before a certain timestamp, only the sender can spend the coin"),(0,l.kt)("li",{parentName:"ol"},"After the timestamp, the receiver can also spend the coin")),(0,l.kt)("p",null,"Nobody else is allowed to spend the coin. It is not held in escrow by any third parties. It is a decentralized solution, created in Chialisp, that is one of many potential custody options in Chia."),(0,l.kt)("p",null,"This guide will show you how to perform the above workflow."),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"gui"},"GUI"),(0,l.kt)("h3",{id:"review-settings"},"Review Settings"),(0,l.kt)("p",null,"Before initiating a clawback transaction, it's a good idea to review your wallet's settings. Click ",(0,l.kt)("inlineCode",{parentName:"p"},"Settings")," (the gear icon in the lower-left corner of your wallet) and click the ",(0,l.kt)("inlineCode",{parentName:"p"},"CUSTODY")," menu."),(0,l.kt)("p",null,"From this menu:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The Sender wallet can enable clawback for all outgoing transactions"),(0,l.kt)("li",{parentName:"ul"},"The Receiver wallet can automatically claim all clawback transactions by adding a default transaction fee")),(0,l.kt)("p",null,"For this tutorial, both of these settings will be disabled:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/01.png",alt:"Configure default settings"})),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"clawback"},"Clawback"),(0,l.kt)("p",null,"This section will show you how to initiate a transaction and claw it back."),(0,l.kt)("p",null,"From the ",(0,l.kt)("inlineCode",{parentName:"p"},"SEND")," menu as shown below, enter the recipient's address, the amount to send, and an optional blockchain fee."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"Prior to initiating the transaction, the sender's wallet from this example contained 5 TXCH. The amount to be sent was 1 TXCH."),(0,l.kt)("li",{parentName:"ul"},"This example was executed on Chia's testnet, which has higher fee requirements than mainnet. For this reason, a large fee of 100 million mojos was added."))),(0,l.kt)("p",null,"After you have entered these parameters, click the dropdown for ",(0,l.kt)("inlineCode",{parentName:"p"},"Add option to claw back transaction"),"."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/02.png",alt:"Send XCH"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"Add the time (days, minutes, hours) during which the transaction will be able to be clawed back. In this case, we'll use 10 minutes."),(0,l.kt)("p",null,"Optionally add a memo to describe this transaction, and click ",(0,l.kt)("inlineCode",{parentName:"p"},"SEND"),"."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/03.png",alt:"Set 10-minute clawback"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"The transaction has been added to the mempool. This means that it is still in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Pending")," state for inclusion on the blockchain. At this point, there is no indication in the GUI that this is a clawback transaction."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/04.png",alt:"Wait for pending transaction"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"Eventually the clawback transaction will be confirmed on the blockchain. Note that the average time between transaction blocks is 52 seconds. Depending on how busy the mempool is, as well as the size of the included fee, confirmation could take much longer."),(0,l.kt)("p",null,"After the transaction has been confirmed, a green ",(0,l.kt)("inlineCode",{parentName:"p"},"CLAW BACK THIS TRANSACTION")," button will appear. This means that the recipient can also see this transaction, but has yet to claim it. While the transaction is in this state, you can claw it back by clicking the button, which will be demonstrated next."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/05.png",alt:"Claw back the transaction"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"clawback")," action requires another on-chain transaction. Enter a transaction fee and click ",(0,l.kt)("inlineCode",{parentName:"p"},"CLAW BACK TRANSACTION")," to claw it back."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/06.png",alt:"Add fee and claw back"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"Just like the original transaction, the clawback will require some time to be confirmed on the blockchain."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/07.png",alt:"Wait for funds to be returned"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"After the clawback has been confirmed, the pending amount is returned to the sender's wallet."),(0,l.kt)("p",null,"In this example, the wallet started with 5 TXCH. Because of the two transaction fees, it now contains 4.9998 TXCH."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/08.png",alt:"Two tx fees have been withdrawn"})),(0,l.kt)("br",null),(0,l.kt)("p",null,'At this point, the transaction is final. The sender has the same amount of XCH they started with, minus the two transaction fees. Due to the clawback, the original "receiver" did not receive anything.'),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"claim"},"Claim"),(0,l.kt)("p",null,"This section will show you how to initiate a clawback transaction from the sender's wallet, and claim the transaction from the receiver's wallet."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"To avoid confusion, the sender's wallet in this example uses a light theme, and the receiver's wallet uses a dark theme.")),(0,l.kt)("p",null,"Just like before, start by creating a new transaction and adding a clawback time and an optional memo. We'll use 10 minutes in this example."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/09.png",alt:"Send a new clawback tx"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"After the initial transaction has been confirmed on the blockchain, the green ",(0,l.kt)("inlineCode",{parentName:"p"},"CLAW BACK THIS TRANSACTION")," button will appear in the sender's wallet."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/10.png",alt:"Wait for confirmation"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"The receiver's wallet will show a pending transaction, including the value, the amount of time before the transaction can be claimed, and the included memo."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"While the transaction is in this state, it does not show up in any of the ",(0,l.kt)("inlineCode",{parentName:"li"},"Balance")," fields in the receiver's wallet. This is because the sender can still claw it back. The receiver should therefore not assume the amount will eventually be claimed."),(0,l.kt)("li",{parentName:"ul"},"The timer showing how long until the transaction can be claimed does not begin counting down until the original transaction is confirmed on the blockchain."))),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/11.png",alt:"Can claim in nine minutes"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,'After the timer has expired, the receiver can claim the transaction. However, in this example, "auto claim" was disabled. Therefore, ',(0,l.kt)("strong",{parentName:"p"},"the sender can still claw back the transaction, even though the timer has expired"),'. For this reason, it is a good idea for the receiver to enable "auto claim".'),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/12.png",alt:"Claw back still possible"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,'If "auto claim" is disabled (as in this example), the receiver needs to click ',(0,l.kt)("inlineCode",{parentName:"p"},"CLAIM TRANSACTION")," after the timer has expired."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/13.png",alt:"Claim the transaction"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"Enter a transaction fee and optionally click the ",(0,l.kt)("inlineCode",{parentName:"p"},"Auto-claim")," checkbox if desired. Finally, click ",(0,l.kt)("inlineCode",{parentName:"p"},"CLAIM TRANSACTION"),"."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/14.png",alt:"Add fee and auto-claim"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"At this point, the ",(0,l.kt)("inlineCode",{parentName:"p"},"claim")," has been submitted to the mempool, but it has yet to be confirmed on chain. As stated previously, the amount of time before the transaction is completed depends on the mempool and the fee."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/15.png",alt:"Wait for pending claim tx"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("p",null,"After the claim transaction has completed, it will appear as a normal transaction in the receiver's wallet. It will also appear in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Total Balance")," box."),(0,l.kt)("p",null,"At this point, the transaction is final. It can no longer be clawed back."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/clawback/16.png",alt:"Claim is complete"})),(0,l.kt)("br",null),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"cli"},"CLI"),(0,l.kt)("p",null,"The detailed documentation for the clawback CLI commands can be found in the following locations:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/wallet-cli#clawback"},"clawback")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/wallet-cli#get_transactions"},"get_transactions")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/wallet-cli#send-1"},"send"))),(0,l.kt)("h3",{id:"clawback-1"},"Clawback"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create the clawback spend. This step uses a normal ",(0,l.kt)("inlineCode",{parentName:"p"},"send")," command, with an extra ",(0,l.kt)("inlineCode",{parentName:"p"},"--clawback")," timer:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'chia wallet send -f 4045726944 -a 1 -e "Sending 1 TXCH with 1-hour clawback" -m 0.0001 -t txch1pxam7zakgqfcfr0xm8xcemm76d637w6sg0l7j8h6gv7rdlf8cfxs326mze --clawback_time 3600\n')),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Submitting transaction...\nTransaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 4045726944 -tx 0x5a41dbe755a7a44b827b61cfa384e79bef5f79370f63fa7ffe1ea29212a26bf6' to get status\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"After the above transaction has been confirmed on-chain, obtain the ID for the clawback transaction:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_transactions -f 4045726944 -l 1 --clawback\n")),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction 0661d157b33597c33e5dc2027f07a1f0cbdc72fa950ca9617e08af326ceb7c81\nStatus: Pending\nAmount received in clawback as sender: 1 TXCH\nTo address: txch1pxam7zakgqfcfr0xm8xcemm76d637w6sg0l7j8h6gv7rdlf8cfxs326mze\nCreated at: 2023-06-14 13:14:16\nRecipient claimable time: 2023-06-14 14:14:16\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Next, claw back the transaction (this must be done before the recipient claims it):"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet clawback -f 4045726944 -ids 0661d157b33597c33e5dc2027f07a1f0cbdc72fa950ca9617e08af326ceb7c81 -m 0.0001\n")),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"{'success': True, 'transaction_ids': ['a8295c3924a8ad079093995d3129a38e26faa01ffca175572d21881865dc48ff']}\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Finally, show the clawback transaction to verify that it was confirmed:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_transaction -f 4045726944 -tx 0xa8295c3924a8ad079093995d3129a38e26faa01ffca175572d21881865dc48ff\n")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction a8295c3924a8ad079093995d3129a38e26faa01ffca175572d21881865dc48ff\nStatus: Confirmed\nAmount claim/clawback: 1 TXCH\nTo address: txch1dmdj4ee0ss3m7zunaymz47kdejv2pfwxdhcdjh6zffg935yqmvlsqpvvjq\nCreated at: 2023-06-14 13:17:33\n")))),(0,l.kt)("h3",{id:"claim-1"},"Claim"),(0,l.kt)("p",null,"The process to claim a clawback transaction is similar to the clawback process, except the receiver wallet must perform the claim."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Set up a clawback send transaction with a 60-second clawback window:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'chia wallet send -f 4045726944 -a 1 -e "Sending 1 TXCH with 60-second clawback" -m 0.0001 -t txch1pxam7zakgqfcfr0xm8xcemm76d637w6sg0l7j8h6gv7rdlf8cfxs326mze --clawback_time 60\n')),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Submitting transaction...\nTr0ansaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 4045726944 -tx 0x3ca82042aba188d47a80b663523847fa6050a21e04647c7b31ad3aa9d8d5450f' to get status\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Get the status of the latest clawback transaction:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_transactions -f 4045726944 -l 1 --clawback\n")),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction d4d29b6381e4248fc7361abb900a154e14d3120f6ecc01e7aaccaf9d984ed2f3\nStatus: Pending\nAmount received in clawback as sender: 1 TXCH\nTo address: txch1pxam7zakgqfcfr0xm8xcemm76d637w6sg0l7j8h6gv7rdlf8cfxs326mze\nCreated at: 2023-06-14 13:28:38\nRecipient claimable time: 2023-06-14 13:29:38\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"From the receiver's wallet, claim the transaction after the claimable time has elapsed:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet clawback -f 2457176934 -ids d4d29b6381e4248fc7361abb900a154e14d3120f6ecc01e7aaccaf9d984ed2f3 -m 0.0001\n")),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"{'success': True, 'transaction_ids': ['e969bb32b4b01e2c14f67c9d6c467645779c1898d08eb4e041c937f4ba3fe9cb']}\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Finally, show the last transaction's status:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_transaction -f 2457176934 -tx 0xe969bb32b4b01e2c14f67c9d6c467645779c1898d08eb4e041c937f4ba3fe9cb\n")),(0,l.kt)("p",{parentName:"li"},"Response:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction e969bb32b4b01e2c14f67c9d6c467645779c1898d08eb4e041c937f4ba3fe9cb\nStatus: Confirmed\nAmount claim/clawback: 1 TXCH\nTo address: txch1pxam7zakgqfcfr0xm8xcemm76d637w6sg0l7j8h6gv7rdlf8cfxs326mze\nCreated at: 2023-06-14 13:33:10\n")))))}m.isMDXComponent=!0}}]);