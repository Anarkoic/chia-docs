"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[9395],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(a),h=l,m=p["".concat(s,".").concat(h)]||p[h]||u[h]||r;return a?n.createElement(m,i(i({ref:t},c),{},{components:a})):n.createElement(m,i({ref:t},c))}));function m(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=h;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:l,i[1]=o;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(7294),l=a(6010);const r={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,l.Z)(r.tabItem,i),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(7462),l=a(7294),r=a(6010),i=a(2466),o=a(6550),s=a(1980),d=a(7392),c=a(12);function p(e){return function(e){return l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:l}}=e;return{value:t,label:a,attributes:n,default:l}}))}function u(e){const{values:t,children:a}=e;return(0,l.useMemo)((()=>{const e=t??p(a);return function(e){const t=(0,d.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function h(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:a}=e;const n=(0,o.k6)(),r=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s._X)(r),(0,l.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})}),[r,n])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,r=u(e),[i,o]=(0,l.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r}))),[s,d]=m({queryString:a,groupId:n}),[p,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,r]=(0,c.Nk)(a);return[n,(0,l.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:n}),k=(()=>{const e=s??p;return h({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{k&&o(k)}),[k]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),f(e)}),[d,f,r]),tabValues:r}}var k=a(2389);const C={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:t,block:a,selectedValue:o,selectValue:s,tabValues:d}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,i.o5)(),u=e=>{const t=e.currentTarget,a=c.indexOf(t),n=d[a].value;n!==o&&(p(t),s(n))},h=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const a=c.indexOf(e.currentTarget)+1;t=c[a]??c[0];break}case"ArrowLeft":{const a=c.indexOf(e.currentTarget)-1;t=c[a]??c[c.length-1];break}}t?.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},t)},d.map((e=>{let{value:t,label:a,attributes:i}=e;return l.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:h,onClick:u},i,{className:(0,r.Z)("tabs__item",C.tabItem,i?.className,{"tabs__item--active":o===t})}),a??t)})))}function g(e){let{lazy:t,children:a,selectedValue:n}=e;const r=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===n));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function w(e){const t=f(e);return l.createElement("div",{className:(0,r.Z)("tabs-container",C.tabList)},l.createElement(b,(0,n.Z)({},e,t)),l.createElement(g,(0,n.Z)({},e,t)))}function N(e){const t=(0,k.Z)();return l.createElement(w,(0,n.Z)({key:String(t)},e))}},7155:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>p});var n=a(7462),l=(a(7294),a(3905)),r=a(4866),i=a(5162);const o={slug:"/guides/cr-CAT-tutorial",title:"CR-CAT Creation Tutorial"},s=void 0,d={unversionedId:"guides/cat/cr-cat-tutorial",id:"guides/cat/cr-cat-tutorial",title:"CR-CAT Creation Tutorial",description:"Intro",source:"@site/docs/guides/cat/cr-cat-tutorial.md",sourceDirName:"guides/cat",slug:"/guides/cr-CAT-tutorial",permalink:"/zh/guides/cr-CAT-tutorial",draft:!1,editUrl:"https://github.com/Chia-Network/chia-docs/blob/main/docs/guides/cat/cr-cat-tutorial.md",tags:[],version:"current",frontMatter:{slug:"/guides/cr-CAT-tutorial",title:"CR-CAT Creation Tutorial"},sidebar:"guides",previous:{title:"CAT Creation Tutorial",permalink:"/zh/guides/cat-creation-tutorial"},next:{title:"Custody Tool Description",permalink:"/zh/guides/custody-tool-description"}},c={},p=[{value:"Intro",id:"intro",level:2},{value:"Definitions",id:"definitions",level:2},{value:"Setup",id:"setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"DID and VC Setup",id:"did-and-vc-setup",level:3},{value:"Authorized Provider Wallet",id:"authorized-provider-wallet",level:4},{value:"VC Holder Wallet",id:"vc-holder-wallet",level:4},{value:"XCH Wallet",id:"xch-wallet",level:4},{value:"CAT Admin Tool",id:"cat-admin-tool",level:3},{value:"Automatic CATs",id:"automatic-cats",level:3},{value:"Setup summary",id:"setup-summary",level:3},{value:"Mint CR-CATs",id:"mint-cr-cats",level:2},{value:"Send CR-CATs",id:"send-cr-cats",level:2},{value:"Sending from the GUI",id:"sending-from-the-gui",level:3},{value:"Sending from the CLI",id:"sending-from-the-cli",level:3},{value:"Offer CR-CATs",id:"offer-cr-cats",level:2},{value:"GUI Offers",id:"gui-offers",level:3},{value:"CLI Offers",id:"cli-offers",level:3},{value:"When Proofs Are Missing",id:"when-proofs-are-missing",level:2},{value:"Sending CR-CATs",id:"sending-cr-cats",level:3},{value:"Offers for CR-CATs",id:"offers-for-cr-cats",level:3}],u={toc:p},h="wrapper";function m(e){let{components:t,...a}=e;return(0,l.kt)(h,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"intro"},"Intro"),(0,l.kt)("p",null,"Credential Restricted Chia Asset Tokens (CR-CATs) are CATs whose ownership is restricted to people or other entities who possess a required set of Verifiable Credentials (VCs). This guide will show you how to mint CR-CATs, as well as how to distribute them accordingly."),(0,l.kt)("p",null,"For additional resources, see the following:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/Chia-Network/chips/pull/68"},"CHIP-19")," -- Restricted CAT Standard"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/cat-admin-cli"},"CAT admin")," -- CLI documentation for the CAT admin tool"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/guides/verifiable-credentials-guide"},"VC guide")," -- VCs are required in order to use CR-CATs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://chialisp.com/cats"},"CAT standard")," -- Good to read if you are unfamiliar with Chia Asset Tokens")),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"The commands in this guide are only examples. Be sure to replace the listed values with values from your local system."),(0,l.kt)("p",{parentName:"admonition"},"This guide was creating using testnet10. The example commands use a fee of 100 million mojos, which will be rather high for mainnet usage. If running on mainnet, be sure to adjust your fees accordingly.")),(0,l.kt)("h2",{id:"definitions"},"Definitions"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Decentralized Identifier (DID)")," -- An identifier that enables verifiable, decentralized digital identity"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Verifiable Credential (VC)")," -- Allows someone or something to prove that a subject belongs to a certain category or categories, such as being a US citizen. One type of VC is issued by a Know Your Customer (KYC) provider, who must perform this verification."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Chia Asset Tokens (CATs)")," -- Fungible tokens on the Chia blockchain")),(0,l.kt)("h2",{id:"setup"},"Setup"),(0,l.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("p",null,"In order to mint CR-CATs, you will need to have:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"A synced Chia wallet, running version 2.0 or later (a full node is ",(0,l.kt)("em",{parentName:"li"},"not")," required)"),(0,l.kt)("li",{parentName:"ul"},"At least one DID to be used as a trusted provider"),(0,l.kt)("li",{parentName:"ul"},"A sufficient amount of XCH or TXCH for the minting. As a reminder, each CAT consists of 1000 mojos. If you want to mint 1 billion CATs, you will need 1 trillion mojos (1 XCH) for the minting."),(0,l.kt)("li",{parentName:"ul"},"Sufficient funds to cover blockchain fees, the amount of which depends on how busy the blockchain is at any moment")),(0,l.kt)("p",null,"We have faucets available if you don't have sufficient funds to get started:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://testnet10-faucet.chia.net/"},"testnet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://faucet.chia.net/"},"mainnet"))),(0,l.kt)("admonition",{title:"important",type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"It is possible to brick* funds by sending them to an address without the appropriate credentials, as will be demonstrated later in this guide. You are therefore recommended to test minting CR-CATs on the testnet or on a simulator prior to minting them on mainnet. If you are unsure of how to configure your wallet to use the testnet, see our ",(0,l.kt)("a",{parentName:"p",href:"https://docs.chia.net/guides/chialisp-testnet-setup"},"guide"),"."),(0,l.kt)("p",{parentName:"admonition"},"*"," Technically, the funds will remain recoverable, but this process will not be easy.")),(0,l.kt)("h3",{id:"did-and-vc-setup"},"DID and VC Setup"),(0,l.kt)("p",null,"CR-CATs require at least one authorized provider that can issue VCs that are allowed to trade the CATs. This tutorial will use a DID as the authorized provider."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"DIDs are currently the ",(0,l.kt)("em",{parentName:"p"},"only")," type of authorized provider, though others might be added in the future.")),(0,l.kt)("p",null,"Please see our ",(0,l.kt)("a",{parentName:"p",href:"/guides/verifiable-credentials-guide"},"Verifiable Credentials Guide")," for help on setting up a DID, as well as a VC with appropriate proofs."),(0,l.kt)("p",null,"For this tutorial, we will use the same proof structure that was used in the Verifiable Credentials Guide, so if you have followed it, you will be mostly ready to follow this tutorial as well."),(0,l.kt)("p",null,"We will use three separate Chia wallets, which have been created beforehand using the Verifiable Credentials Guide:"),(0,l.kt)("h4",{id:"authorized-provider-wallet"},"Authorized Provider Wallet"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Owns one DID -- ",(0,l.kt)("inlineCode",{parentName:"p"},"did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Used this DID to mint a VC with launcher ID ",(0,l.kt)("inlineCode",{parentName:"p"},"9b6c65bd82ebe139ad5785ffdf99f6fe8ccbedb62a7ba2560989ef4e8a00ec86")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Added two proofs: ",(0,l.kt)("inlineCode",{parentName:"li"},"test_proof1")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"test_proof2")),(0,l.kt)("li",{parentName:"ul"},'"Transferred" this VC to the same wallet'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Minted another VC with the same proofs and transferred it to the VC Holder Wallet (see next section)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"This wallet will issue the CR-CATs and send some of them to the VC Holder"),(0,l.kt)("p",{parentName:"li"},"The CLI view of the Authorized Provider's wallet is as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Balances, fingerprint: 3152280463\n\nChia Wallet:\n   -Total Balance:         0.999499999997 txch (999499999997 mojo)\n   -Pending Total Balance: 0.999499999997 txch (999499999997 mojo)\n   -Spendable:             0.999499999997 txch (999499999997 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nProfile 1:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DECENTRALIZED_ID\n   -DID ID:                did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c\n   -Wallet ID:             2\n\nNFT Wallet:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  NFT\n   -DID ID:                did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c\n   -Wallet ID:             3\n\nVCWallet:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  VC\n   -Wallet ID:             4\n")),(0,l.kt)("p",{parentName:"li"},"The CLI view of the Authorized Provider's VC is as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Proofs:\n  - f063e22557705b14425b8fca60018796b4364eb6354f45d0b99431a71d3043e5\n    - test_proof1\n    - test_proof2\n\nLauncher ID: 9b6c65bd82ebe139ad5785ffdf99f6fe8ccbedb62a7ba2560989ef4e8a00ec86\nCoin ID: 1d24b1eb6909fcded260c7a6da092fc3d95156c217e6f7944ee3a75473730737\nInner Address: txch1jl9wvatyyy6lwt7eswa9ax7sydzr80tww6npfupd5jj95le3p4ssvcped6\nProof Hash: f063e22557705b14425b8fca60018796b4364eb6354f45d0b99431a71d3043e5\n")),(0,l.kt)("p",{parentName:"li"},"The VC is also viewable from the GUI:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/01_cr-cat.png",alt:"Authorized provider VC"})),(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"vc-holder-wallet"},"VC Holder Wallet"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Holds a VC with launcher ID ",(0,l.kt)("inlineCode",{parentName:"p"},"5b5389e77b7ec8e9ebd7d92136254418ca674e382031d29aaa6ab75b7822792b")," and two proofs: ",(0,l.kt)("inlineCode",{parentName:"p"},"test_proof1")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"test_proof2"),". This VC was provided by the Authorized Provider wallet.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Does not own a DID")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"This wallet will receive some CR-CATs from the Authorized Provider"),(0,l.kt)("p",{parentName:"li"},"The CLI view of the VC Holder's wallet is as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Balances, fingerprint: 455644407\n\nChia Wallet:\n   -Total Balance:         0.5 txch (500000000000 mojo)\n   -Pending Total Balance: 0.5 txch (500000000000 mojo)\n   -Spendable:             0.5 txch (500000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nVCWallet:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  VC\n   -Wallet ID:             2\n")),(0,l.kt)("p",{parentName:"li"},"The CLI view of the VC Holder's VC is as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Proofs:\n  - f063e22557705b14425b8fca60018796b4364eb6354f45d0b99431a71d3043e5\n    - test_proof1\n    - test_proof2\n\nLauncher ID: 5b5389e77b7ec8e9ebd7d92136254418ca674e382031d29aaa6ab75b7822792b\nCoin ID: 87781377b81b54c56df4e1fc3558757065409fe65ecab16de89f8d07f7a7cecb\nInner Address: txch1hsyj53wz3wzznxdd0kupk075yj2muew8q49yj83yh5tde92x0uxst6ztpg\nProof Hash: f063e22557705b14425b8fca60018796b4364eb6354f45d0b99431a71d3043e5\n")),(0,l.kt)("p",{parentName:"li"},"The VC is also viewable from the GUI:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/02_cr-cat.png",alt:"Holder VC"})),(0,l.kt)("br",null))),(0,l.kt)("h4",{id:"xch-wallet"},"XCH Wallet"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Does not hold any DIDs or VCs")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"This wallet will demonstrate that CR-CATs can only be held by wallets that hold a required set of VCs"),(0,l.kt)("p",{parentName:"li"},"The CLI view of the XCH wallet is as follows:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Balances, fingerprint: 2811450244\n\nChia Wallet:\n   -Total Balance:         0.5 txch (500000000000 mojo)\n   -Pending Total Balance: 0.5 txch (500000000000 mojo)\n   -Spendable:             0.5 txch (500000000000 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n")))),(0,l.kt)("h3",{id:"cat-admin-tool"},"CAT Admin Tool"),(0,l.kt)("p",null,"CR-CATS are issued from the CAT-admin-tool repository. Follow the instructions below to install it for your specific OS:"),(0,l.kt)(r.Z,{groupId:"os",mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"mac",label:"Linux/macOS",mdxType:"TabItem"},(0,l.kt)("p",null,"Clone the repository:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/Chia-Network/CAT-admin-tool.git -b main --recurse-submodules\n")),(0,l.kt)("p",null,"Change to the CAT-admin-tool directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd CAT-admin-tool\n")),(0,l.kt)("p",null,"Create a virtual environment:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python3 -m venv venv\n")),(0,l.kt)("p",null,"Activate the virtual environment:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},". ./venv/bin/activate\n")),(0,l.kt)("p",null,"Install all prerequisites:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python3 -m pip install --upgrade pip setuptools wheel\n")),(0,l.kt)("p",null,"Install the CAT admin tool:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pip install .\n"))),(0,l.kt)(i.Z,{value:"windows",label:"Windows",mdxType:"TabItem"},(0,l.kt)("p",null,"Clone the repository:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/Chia-Network/CAT-admin-tool.git -b main --recurse-submodules\n")),(0,l.kt)("p",null,"Change to the CAT-admin-tool directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd CAT-admin-tool\n")),(0,l.kt)("p",null,"Create a virtual environment:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python -m venv venv\n")),(0,l.kt)("p",null,"Activate the virtual environment:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},".\\venv\\Scripts\\Activate.ps1\n")),(0,l.kt)("p",null,"Install all prerequisites:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"python -m pip install --upgrade pip setuptools wheel\n")),(0,l.kt)("p",null,"Install the CAT admin tool:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pip install .\n")))),"Your environment should be all set, but let's make sure:",(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Run ",(0,l.kt)("inlineCode",{parentName:"p"},"cats --help"),". You should get a usage statement.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Run ",(0,l.kt)("inlineCode",{parentName:"p"},"cdv --help"),". You should get another usage statement."))),(0,l.kt)("p",null,"The CAT admin tool also comes bundled with a version of Chia. If your wallet is not currently running, be sure to start it now:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia start wallet\n")),(0,l.kt)("p",null,"Note that while a full node is not required, it is recommended, as it will make the the process of minting CR-CATs faster and more efficient."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia start node\n")),(0,l.kt)("p",null,"If you are running a full node, verify that it is synced by running this command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia show -s\n")),(0,l.kt)("p",null,"For a comprehensive list of all options available with the CAT admin tool, as well as examples of how to use them, see the ",(0,l.kt)("a",{parentName:"p",href:"/cat-admin-cli"},"CLI reference"),"."),(0,l.kt)("h3",{id:"automatic-cats"},"Automatic CATs"),(0,l.kt)("p",null,"Before continuing, it is a good idea to verify that new CATs will automatically be added to your wallet. The setting for this is located in ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.chia/mainnet/config/config.yaml"),". (Note that this file is in a ",(0,l.kt)("inlineCode",{parentName:"p"},"mainnet")," folder regardless of whether you are running on a testnet or mainnet.)"),(0,l.kt)("p",null,"Edit this file and search for ",(0,l.kt)("inlineCode",{parentName:"p"},"automatically_add_unknown_cats"),". You are recommended to set this option's value to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),". Be sure to restart your wallet if you modify this option, so your new CR-CATs will automatically be added to your wallet."),(0,l.kt)("p",null,"If you prefer not to use this option, you can also manually add new CATs with the ",(0,l.kt)("a",{parentName:"p",href:"/wallet-cli#add_token"},"add_token")," command."),(0,l.kt)("h3",{id:"setup-summary"},"Setup summary"),(0,l.kt)("p",null,"At this point, in order to follow this tutorial you should have:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"An instance of the cat-admin-tool repository installed locally",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Verifiable by running ",(0,l.kt)("inlineCode",{parentName:"li"},"cats --help")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"cdv --help")," (you should see a usage statement)"))),(0,l.kt)("li",{parentName:"ul"},"An Authorized Provider's wallet, which holds:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"A DID"),(0,l.kt)("li",{parentName:"ul"},"A VC"),(0,l.kt)("li",{parentName:"ul"},"Some XCH or TXCH"))),(0,l.kt)("li",{parentName:"ul"},"A VC Holder's wallet, which holds:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"A VC"),(0,l.kt)("li",{parentName:"ul"},"Some XCH or TXCH"))),(0,l.kt)("li",{parentName:"ul"},"(If you want to test a failure case) A wallet that only holds some XCH or TXCH"),(0,l.kt)("li",{parentName:"ul"},"(recommended) A synced full node"),(0,l.kt)("li",{parentName:"ul"},"(recommended) Set ",(0,l.kt)("inlineCode",{parentName:"li"},"automatically_add_unknown_cats: true")," in ",(0,l.kt)("inlineCode",{parentName:"li"},"config.yaml"))),(0,l.kt)("p",null,"With all of these setup steps complete, you are ready to mint CR-CATs!"),(0,l.kt)("h2",{id:"mint-cr-cats"},"Mint CR-CATs"),(0,l.kt)("p",null,"The process for minting Restricted CATs is nearly identical to the process for minting standard CATs. In both cases, any TAIL may be used. This tutorial will only demonstrate how to use a single-issuance TAIL. If you are interested in using other TAILs, or if you would like a more comprehensive list of instructions, see the ",(0,l.kt)("a",{parentName:"p",href:"/guides/cat-creation-tutorial"},"CAT creation tutorial"),"."),(0,l.kt)("p",null,"For starters, you will need to obtain an address to send the CR-CATs to after they have been minted. From the Authorized Provider's wallet run the following command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_address --new-address\n")),(0,l.kt)("p",null,"The response will be an address, for example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"txch1yx4tdtqksjh7mk84deglwyq4j8td8jchyc8sdgem2hnuulmhzdhqct9wpr\n")),(0,l.kt)("p",null,"Next, obtain the Authorized Provider's DID ID by showing the wallet:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet show\n")),(0,l.kt)("p",null,"Response (truncated):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"...\nProfile 1:\n   -Total Balance:         1.0\n   -Pending Total Balance: 1.0\n   -Spendable:             1.0\n   -Type:                  DECENTRALIZED_ID\n   -DID ID:                did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c\n   -Wallet ID:             2\n...\n")),(0,l.kt)("p",null,"In this example, we will create one thousand CR-CATs. Each CR-CAT will consist of 1000 mojos (same as standard CATs), so this example will require one million mojos, plus a transaction fee, for the issuance."),(0,l.kt)("p",null,"When minting CR-CATs, you have two options for applying restrictions:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-r"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"--proofs-checker")," -- Use this option to supply a custom program for checking proofs (not yet supported in the reference wallet)."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-v"),"/",(0,l.kt)("inlineCode",{parentName:"li"},"--cr-flag")," -- Use this option to specify which proof(s) a VC must have in order to approve a transaction from this CR-CAT.")),(0,l.kt)("p",null,"For this example, we will use the ",(0,l.kt)("inlineCode",{parentName:"p"},"-v")," option."),(0,l.kt)("p",null,"We also need to add the ",(0,l.kt)("inlineCode",{parentName:"p"},"-sc")," flag to select a valid coin to spend. Here is a summary of the options that will be used in this example:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-l")," -- the TAIL to use"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-t")," -- the address to send the CR-CATs to upon being minted"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-a")," -- the amount, in mojos, to use for the minting"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-m")," -- an optional blockchain fee, in mojos"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-d")," -- the authorized provider (DID) for issuing VCs for these CR-CATs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-v")," -- the string required in a VC proof for trading these CR-CATs"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-sc")," -- return a valid coin to spend for the minting")),(0,l.kt)("p",null,"And here is the example command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'cats -l ./reference_tails/genesis_by_coin_id.clsp.hex -t txch1yx4tdtqksjh7mk84deglwyq4j8td8jchyc8sdgem2hnuulmhzdhqct9wpr -a 1000000 -m 100000000 -d did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c -v "test_proof1" -sc\n')),(0,l.kt)("p",null,"The response will list the details of a coin from your wallet. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'{\n    "amount": 999499999997,\n    "parent_coin_info": "0xd0e21a74601b8bafb6e1c90c61ff74bad40820e3003d25230fc127ce3efc5a48",\n    "puzzle_hash": "0x29b1afc3a6caa21a4aaba3a928df4dbbc3e3b9b2b15f89529311ae12d6cec82b"\n}\nName: 1d9cb45618bdd9d70a0959ab8d91cafcbc1acbf7bd31a9e5286fd30622796783\n')),(0,l.kt)("p",null,"The value of ",(0,l.kt)("inlineCode",{parentName:"p"},"Name:")," will be used next. If you received an error containing ",(0,l.kt)("inlineCode",{parentName:"p"},"Can't spend more than wallet balance:"),", then you do not have sufficient funds to cover the amount specified in the ",(0,l.kt)("inlineCode",{parentName:"p"},"-a")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"-m")," options."),(0,l.kt)("p",null,"Next, run the same command again, but replace ",(0,l.kt)("inlineCode",{parentName:"p"},"-sc")," with ",(0,l.kt)("inlineCode",{parentName:"p"},"-c 0x<coin name>"),", or ",(0,l.kt)("inlineCode",{parentName:"p"},"-c 0x1d9cb45618bdd9d70a0959ab8d91cafcbc1acbf7bd31a9e5286fd30622796783")," in this example."),(0,l.kt)("admonition",{title:"important",type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"When minting CR-CATs with the commands from this tutorial, you must prepend ",(0,l.kt)("inlineCode",{parentName:"p"},"0x")," to the coin ID in the following command. If you fail to do this, the command will appear to succeed, but it will actually fail. The reasons for not showing an error are twofold:"),(0,l.kt)("ol",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ol"},"You are technically allowed to curry anything with this command's underlying CLVM puzzle, so omitting the ",(0,l.kt)("inlineCode",{parentName:"li"},"0x")," is valid syntax, even though it won't work in this case."),(0,l.kt)("li",{parentName:"ol"},"The wallet client asynchronously sends the command to the node, so the wallet client does not know when the command fails."))),(0,l.kt)("p",null,"For example, this command will mint the CR-CATs using the ",(0,l.kt)("inlineCode",{parentName:"p"},"-c")," option:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'cats -l ./reference_tails/genesis_by_coin_id.clsp.hex -t txch1yx4tdtqksjh7mk84deglwyq4j8td8jchyc8sdgem2hnuulmhzdhqct9wpr -a 1000000 -m 100000000 -d did:chia:1w4gf5eyensd37xa0x7aj27fe4cr9tqmf46m272suve5n4q2draesd0t54c -v "test_proof1" -c 0x1d9cb45618bdd9d70a0959ab8d91cafcbc1acbf7bd31a9e5286fd30622796783\n')),(0,l.kt)("p",null,"As a result, a new spend bundle will be created for the minting. You will be prompted whether to submit it to the network:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"The transaction has been created, would you like to push it to the network? (Y/N)\n")),(0,l.kt)("p",null,"Respond with ",(0,l.kt)("inlineCode",{parentName:"p"},"Y")," and you should be shown the ",(0,l.kt)("inlineCode",{parentName:"p"},"Asset ID")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Eve Coin ID")," for this CR-CAT. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Successfully pushed the transaction to the network\nAsset ID: 3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\nEve Coin ID: 7afe650fd4dd663d0be027c07228d02546fcc7b91b7819d18d5e1d4055292bf1\n")),(0,l.kt)("p",null,"After the transaction has been confirmed on blockchain (typically within 1-3 minutes), you can view the new CAT with the ",(0,l.kt)("inlineCode",{parentName:"p"},"chia wallet show")," command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet show\n")),(0,l.kt)("p",null,"Response (truncated):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"...\nCAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      1000.0  (1000000 mojo)\n   -Balance Pending VC Approval:        0.0  (0 mojo)\n   -Pending Total Balance:              1000.0  (1000000 mojo)\n   -Spendable:                          1000.0  (1000000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          5\n...\n")),(0,l.kt)("p",null,"Note that ",(0,l.kt)("inlineCode",{parentName:"p"},"Balance Pending VC Approval")," is currently ",(0,l.kt)("inlineCode",{parentName:"p"},"0.0"),'. This is because the CR-CATs have been minted to the wallet that contains the issuing DID. Thus, they do not require approval. When these funds are transferred, they will show up as "Pending" in the new wallet.'),(0,l.kt)("p",null,"This information is also viewable in the GUI:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/03_cr-cat.png",alt:"CR-CAT issuance"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"The Authorized Provider now has control of all 1000 of the issued CR-CATs. This type of CAT is distinguished in the GUI by a padlock icon and ",(0,l.kt)("inlineCode",{parentName:"p"},"Restricted CAT"),". The Authorized Provider also possesses a VC with the required proof (",(0,l.kt)("inlineCode",{parentName:"p"},"test_proof1"),"), so a green icon appears when viewing the CAT."),(0,l.kt)("h2",{id:"send-cr-cats"},"Send CR-CATs"),(0,l.kt)("p",null,"Now that you have minted the CR-CATs, you can send them elsewhere. First, we'll send some to the VC Holder's wallet, which already has a VC that contains the required proof."),(0,l.kt)("h3",{id:"sending-from-the-gui"},"Sending from the GUI"),(0,l.kt)("p",null,"You can send CR-CATs just as you would with regular CATs:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/04_cr-cat.png",alt:"CR-CAT send"})),(0,l.kt)("br",null),(0,l.kt)("p",null,'You should see a "success" message:'),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/05_cr-cat.png",alt:"CR-CAT send success"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"In this example, the recipient is the VC Holder's wallet. This wallet holds the credential with the required proof (",(0,l.kt)("inlineCode",{parentName:"p"},"test_proof1"),") for holding this CR-CAT. Because the proof exists, a green ",(0,l.kt)("inlineCode",{parentName:"p"},"APPROVE")," button will appear. "),(0,l.kt)("p",null,"From the VC Holder's wallet, click this button to finalize the transaction:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/06_cr-cat.png",alt:"VC Holder Approve"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"An on-chain transaction is required for the approval to be processed. This is necessary to guard against unauthorized wallets holding CR-CATs, as will be demonstrated later in this tutorial. Enter a transaction fee and click ",(0,l.kt)("inlineCode",{parentName:"p"},"APPROVE PENDING TRANSACTIONS"),":"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/07_cr-cat.png",alt:"Approve pending transactions"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"After the transaction has been processed, the CR-CATs will become available to the VC Holder, who can now send or trade them just like normal CATs."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/08_cr-cat.png",alt:"CR-CAT approved"})),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"sending-from-the-cli"},"Sending from the CLI"),(0,l.kt)("p",null,"As a reminder, in the Authorized Provider's wallet, the ",(0,l.kt)("inlineCode",{parentName:"p"},"Wallet ID")," of the CR-CAT is ",(0,l.kt)("inlineCode",{parentName:"p"},"5"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      950.0  (950000 mojo)\n   -Balance Pending VC Approval:        0.0  (0 mojo)\n   -Pending Total Balance:              950.0  (950000 mojo)\n   -Spendable:                          950.0  (950000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          5\n")),(0,l.kt)("p",null,"From the CLI, run a standard ",(0,l.kt)("inlineCode",{parentName:"p"},"send")," command. In this example, we will use the following flags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-i")," -- The ",(0,l.kt)("inlineCode",{parentName:"li"},"Wallet ID")," of the CR-CAT"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-a")," -- The number of CR-CATs to send"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-m")," -- An optional transaction free, in XCH/TXCH"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-t")," -- The address to send the CR-CATs to (the VC Holder's wallet address)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet send -i 5 -a 100 -m 0.0001 -t txch1hsyj53wz3wzznxdd0kupk075yj2muew8q49yj83yh5tde92x0uxst6ztpg\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Submitting transaction...\nTransaction submitted to nodes: [{'peer_id': 'b3d9de85d29931c10050b56c7afb91c99141943fc81ff2d1a8425e52be0d08ab', 'inclusion_status': 'SUCCESS', 'error_msg': None}]\nRun 'chia wallet get_transaction -f 3152280463 -tx 0xab577bdce7fdd1be8b4e0634ad69aa5cff66f6d9dc7d26e0119d1a3a740f91e8' to get status\n")),(0,l.kt)("p",null,"After a few minutes, run the command from the previous command's output to view the transaction. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_transaction -f 3152280463 -tx 0xab577bdce7fdd1be8b4e0634ad69aa5cff66f6d9dc7d26e0119d1a3a740f91e8\n")),(0,l.kt)("p",null,"The response should show that this transaction has been confirmed:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Transaction ab577bdce7fdd1be8b4e0634ad69aa5cff66f6d9dc7d26e0119d1a3a740f91e8\nStatus: Confirmed\nAmount sent: 100 CAT 3ba9e16dca39f3fb...\nTo address: txch1yzjq802ym3lv9aupl6nyvv6s24fdm9wpnte2rvhk04arr3jyt4js2287gz\nCreated at: 2023-09-22 09:21:25\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"After switching to the VC Holder's wallet"),", you should see the CR-CATs that are pending approval (in this case ",(0,l.kt)("inlineCode",{parentName:"p"},"100.0  (100000 mojo)"),"):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet show\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Balances, fingerprint: 455644407\n\nChia Wallet:\n   -Total Balance:         0.499993999384 txch (499993999384 mojo)\n   -Pending Total Balance: 0.499993999384 txch (499993999384 mojo)\n   -Spendable:             0.499993999384 txch (499993999384 mojo)\n   -Type:                  STANDARD_WALLET\n   -Wallet ID:             1\n\nVCWallet:\n   -Total Balance:         0.0\n   -Pending Total Balance: 0.0\n   -Spendable:             0.0\n   -Type:                  VC\n   -Wallet ID:             2\n\nCAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      50.0  (50000 mojo)\n   -Balance Pending VC Approval:        100.0  (100000 mojo)\n   -Pending Total Balance:              50.0  (50000 mojo)\n   -Spendable:                          50.0  (50000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          3\n")),(0,l.kt)("p",null,"The VC Holder still needs to approve the new CR-CATs in order to add them to the wallet balance. This is accomplished with the ",(0,l.kt)("inlineCode",{parentName:"p"},"approve_r_cats")," command. In this example, we will use the following flags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-i")," -- The ",(0,l.kt)("inlineCode",{parentName:"li"},"Wallet ID")," of the CR-CAT"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-a")," -- The amount to approve"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-m")," -- An optional transaction free, in XCH/TXCH")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet vcs approve_r_cats -i 3 -a 100 -m 0.0001\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"VC successfully approved R-CATs!\nRelevant TX records:\n\nTransaction 07ce240c734515fa6609121ac1c52c571a8b191715d26620a2242b124767c95d\nStatus: Pending\nAmount received: 100 CAT 3ba9e16dca39f3fb...\nTo address: txch16yqa7dsmax5g258yc2qh57xcs0kxxa53fyc4v8jadl8h6jwf7frsx0s7k4\nCreated at: 2023-09-22 09:30:56\n\nTransaction df859cf5cd348c9531885de978eb083072eff4447748a86463a2d51e3a324298\nStatus: Pending\nAmount sent: 1E-12 TXCH\nTo address: txch1hsyj53wz3wzznxdd0kupk075yj2muew8q49yj83yh5tde92x0uxst6ztpg\nCreated at: 2023-09-22 09:30:56\n\nTransaction 41c06dfb0b4e6bd0ed32c8d4942f10e251a0fd9d7b435c6d5672d8571e3bcab7\nStatus: Pending\nAmount sent: 0 TXCH\nTo address: txch1prssxq8x0s45gzszxpnpwlwpz6p06j5tequtq6ne4fphj7x5yv9qgx493k\nCreated at: 2023-09-22 09:30:56\n")),(0,l.kt)("p",null,"After this transaction has completed, the new CR-CATs will be available to be spend just like normal CATs:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      150.0  (150000 mojo)\n   -Balance Pending VC Approval:        0.0  (0 mojo)\n   -Pending Total Balance:              150.0  (150000 mojo)\n   -Spendable:                          150.0  (150000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          3\n")),(0,l.kt)("h2",{id:"offer-cr-cats"},"Offer CR-CATs"),(0,l.kt)("p",null,"CR-CATs also work with Chia Offers, using either the GUI or the CLI."),(0,l.kt)("h3",{id:"gui-offers"},"GUI Offers"),(0,l.kt)("p",null,"In this example, as the ",(0,l.kt)("strong",{parentName:"p"},"Authorized Provider"),", click ",(0,l.kt)("inlineCode",{parentName:"p"},"CREATE AN OFFER")," from the ",(0,l.kt)("inlineCode",{parentName:"p"},"Offers")," panel:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/09_cr-cat.png",alt:"Create an Offer"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"Next, fill out the Offer Builder. For this example, we will offer to trade 99 CR-CATs for 0.1 TXCH: "),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/10_cr-cat.png",alt:"Offer Builder"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"After creating the Offer, Authorized Provider can save it as a local file or post it to a marketplace."),(0,l.kt)("p",null,"For this example, we will change to the ",(0,l.kt)("strong",{parentName:"p"},"VC Holder")," wallet and load the Offer file. This wallet contains a VC with the required proof to hold this CR-CAT (",(0,l.kt)("inlineCode",{parentName:"p"},"test_proof1"),"). Enter an optional blockchain fee and click ",(0,l.kt)("inlineCode",{parentName:"p"},"ACCEPT OFFER"),":"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/11_cr-cat.png",alt:"Accept Offer"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"While the on-chain transaction to accept the Offer is pending, the 99 CR-CATs will be displayed in the VC Holder's ",(0,l.kt)("inlineCode",{parentName:"p"},"Pending Balance"),". Note that the ",(0,l.kt)("inlineCode",{parentName:"p"},"Pending Balance for Approval")," is ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," in this case:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/12_cr-cat.png",alt:"Pending Offer Acceptance"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"After the transaction has been confirmed, the balance is updated. When receiving CR-CATs via an Offer, there is no need to perform another transaction to approve of the incoming tokens. This is because the proof requirement is already baked into the Offer file."),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/13_cr-cat.png",alt:"Completed Offer"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"At this point, the VC Holder wallet has full possession of the CR-CATs."),(0,l.kt)("h3",{id:"cli-offers"},"CLI Offers"),(0,l.kt)("p",null,"Offers for CR-CATs can also be created and accepted via the CLI. For this example, the ",(0,l.kt)("strong",{parentName:"p"},"Authorized Provider")," will create an Offer using the following flags:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-o")," -- The Offer amount, using the syntax ",(0,l.kt)("inlineCode",{parentName:"li"},"<Wallet ID of asset to offer>"),":",(0,l.kt)("inlineCode",{parentName:"li"},"<amount to offer>")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-r")," -- The requested amount, using the syntax ",(0,l.kt)("inlineCode",{parentName:"li"},"<Wallet ID of asset to request>"),":",(0,l.kt)("inlineCode",{parentName:"li"},"<amount to request")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p")," -- The path to the file name in which to save the Offer")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet make_offer -o 5:33 -r 1:0.01 -p ~/Downloads/33_CR-CATs_for_0.01_TXCH.offer\n")),(0,l.kt)("p",null,"Confirmation is required:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Creating Offer\n--------------\n\nOFFERING:\n  - 33 CAT 3ba9e16dca39f3fb... (33000 mojos)\nREQUESTING:\n  - 0.01 XCH (10000000000 mojos)\nConfirm (y/n):\n")),(0,l.kt)("p",null,"Enter ",(0,l.kt)("inlineCode",{parentName:"p"},"y")," to confirm, and the Offer will be created. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Created offer with ID 3f525c0ba3ba19a37f8a1708e4eeae8714cd052e78de0217fa728353f1d0f1ad\nUse chia wallet get_offers --id 3f525c0ba3ba19a37f8a1708e4eeae8714cd052e78de0217fa728353f1d0f1ad -f 3152280463 to view status\n")),(0,l.kt)("p",null,"In this example, the ",(0,l.kt)("strong",{parentName:"p"},"VC Holder's wallet")," has 249 CR-CATs prior to taking the Offer:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      249.0  (249000 mojo)\n   -Balance Pending VC Approval:        0.0  (0 mojo)\n   -Pending Total Balance:              249.0  (249000 mojo)\n   -Spendable:                          249.0  (249000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          3\n")),(0,l.kt)("p",null,"The VC Holder can examine the Offer by using the ",(0,l.kt)("inlineCode",{parentName:"p"},"take_offer")," command with the ",(0,l.kt)("inlineCode",{parentName:"p"},"-e")," (examine) flag:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet take_offer -e ~/Downloads/33_CR-CATs_for_0.01_TXCH.offer\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Summary:\n  OFFERED:\n    - CAT 3ba9e16dca39f3fb... (Wallet ID: 3): 33.0 (33000 mojos)\n  REQUESTED:\n    - TXCH (Wallet ID: 1): 0.01 (10000000000 mojos)\n\nIncluded Fees: 0 TXCH, 0 mojos\n")),(0,l.kt)("p",null,"The Offer looks good, so the VC Holder takes it by removing the ",(0,l.kt)("inlineCode",{parentName:"p"},"-e")," flag and adding a fee with the ",(0,l.kt)("inlineCode",{parentName:"p"},"-m")," flag:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet take_offer ~/Downloads/33_CR-CATs_for_0.01_TXCH.offer -m 0.0001\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Summary:\n  OFFERED:\n    - CAT 3ba9e16dca39f3fb... (Wallet ID: 3): 33.0 (33000 mojos)\n  REQUESTED:\n    - TXCH (Wallet ID: 1): 0.01 (10000000000 mojos)\n\nIncluded Fees: 0 TXCH, 0 mojos\n\nWould you like to take this offer? (y/n):\n")),(0,l.kt)("p",null,"Enter ",(0,l.kt)("inlineCode",{parentName:"p"},"y")," to confirm, and the transaction will be pushed to the blockchain:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Accepted offer with ID e479f5ab94ad2bfa1c8802186e87d91dfdc9a8c454d894bfa2199a7cf7c1adf0\nUse chia wallet get_offers --id e479f5ab94ad2bfa1c8802186e87d91dfdc9a8c454d894bfa2199a7cf7c1adf0 -f 455644407 to view its status\n")),(0,l.kt)("p",null,"After a few minutes, enter the ",(0,l.kt)("inlineCode",{parentName:"p"},"get_offers")," command from the previous command's output. This should show that the Offer has been confirmed:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"chia wallet get_offers --id e479f5ab94ad2bfa1c8802186e87d91dfdc9a8c454d894bfa2199a7cf7c1adf0 -f 455644407\n")),(0,l.kt)("p",null,"Response:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"Record with id: e479f5ab94ad2bfa1c8802186e87d91dfdc9a8c454d894bfa2199a7cf7c1adf0\n---------------\nCreated at: 2023-09-22 13:20:30\nConfirmed at: Not confirmed\nAccepted at: 2023-09-22 13:20:30\nStatus: CONFIRMED\n---------------\n")),(0,l.kt)("p",null,"The balance is automatically updated after the offer has been confirmed. Just as with GUI Offers, there is no need to approve the pending balance when using CLI Offers:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"CAT 3ba9e16dca39f3fb...:\n   -Total Balance:                      282.0  (282000 mojo)\n   -Balance Pending VC Approval:        0.0  (0 mojo)\n   -Pending Total Balance:              282.0  (282000 mojo)\n   -Spendable:                          282.0  (282000 mojo)\n   -Type:                               CRCAT\n   -Asset ID:                           3ba9e16dca39f3fb3b75e51535487fcd114abeeb0cf30e8975b9567ce5516fb5\n   -Wallet ID:                          3\n")),(0,l.kt)("p",null,"At this point, the VC Holder wallet has full possession of the CR-CATs."),(0,l.kt)("h2",{id:"when-proofs-are-missing"},"When Proofs Are Missing"),(0,l.kt)("p",null,"Wallets that lack the required proofs are not eligible to receive CR-CATs. Recall that an ",(0,l.kt)("a",{parentName:"p",href:"#xch-wallet"},"XCH Wallet")," was set up for this tutorial. This wallet does not hold any VCs or proofs, so it is not allowed to hold any CR-CATs."),(0,l.kt)("h3",{id:"sending-cr-cats"},"Sending CR-CATs"),(0,l.kt)("p",null,"Let's say the Authorized Provider obtains the XCH Wallet's address and sends 50 CR-CATs to it:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/14_cr-cat.png",alt:"Send CR-CATs to address lacking proofs"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"Even though the recipient is not allowed to hold these CR-CATs, the transaction itself is valid. However, just as in the examples at the beginning of this tutorial, the XCH Wallet will receive the CR-CATs in the ",(0,l.kt)("inlineCode",{parentName:"p"},"Pending Balance for Approval")," section of the GUI. In this case, the required proof (in the red circle below) is not present."),(0,l.kt)("p",null,"The XCH Wallet can still attempt to approve these CR-CATs:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/15_cr-cat.png",alt:"Proof not present"})),(0,l.kt)("br",null),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/16_cr-cat.png",alt:"Attempt to approve"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"However, this attempt will fail because the required proofs are missing:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/17_cr-cat.png",alt:"Required providers missing"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"The status of these CR-CATs is as follows:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"They are pending approval in the XCH Wallet"),(0,l.kt)("li",{parentName:"ul"},"The XCH Wallet is not allowed to approve them"),(0,l.kt)("li",{parentName:"ul"},"The XCH Wallet is not allowed to send them elsewhere"),(0,l.kt)("li",{parentName:"ul"},"The Authorized Provider's wallet no longer holds them")),(0,l.kt)("p",null,"Note that even though nothing can be done with the funds in this state, they are still not bricked. The XCH Wallet will gain access to the funds if it obtains a VC with the required proof. However, assuming the XCH Wallet was not supposed to hold the correct VC in the first place, the Authorized Provider will presumably be reluctant to issue a VC to this wallet."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"For the reasons discussed above, exercise caution when sending CR-CATs to another wallet. In fact, because of the risk of making the funds difficult (if not impossible) to access, we recommend that you don't send CR-CATs in this way."),(0,l.kt)("p",{parentName:"admonition"},"Instead, you should use Offers to distribute CR-CATs, as they provide two important advantages:"),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"If the recipient is allowed to hold the CR-CATs, they will be able to accept an Offer to receive those CATs. Once the Offer is complete, they will not need to submit an approval transaction."),(0,l.kt)("li",{parentName:"ul"},"If the recipient is not allowed to hold the CR-CATs, they will not be able to accept an Offer to receive those CATs in the first place."))),(0,l.kt)("h3",{id:"offers-for-cr-cats"},"Offers for CR-CATs"),(0,l.kt)("p",null,"Let's say the owner of the XCH Wallet locates a CR-CAT Offer. Upon viewing the offer, the wallet's owner will see that the required proof is grayed out, indicating that it is not present:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/18_cr-cat.png",alt:"Offer where required providers missing"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"Any attempts to accept this Offer without first receiving a VC with the required proofs will fail:"),(0,l.kt)("div",{style:{textAlign:"center"}},(0,l.kt)("img",{src:"/img/cr-cat/19_cr-cat.png",alt:"Offer acceptance where required providers missing"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"Thus, when using Offers, the funds cannot accidentally be sent to an unauthorized recipient."))}m.isMDXComponent=!0}}]);