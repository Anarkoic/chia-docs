---
title: 加密货币简介
slug: /cryptocurency-intro
---

## 什么是加密货币？

加密货币系统可被视为一种不受任何单一实体控制的付款和金融基础设施。 例如，银行、公司或政府。 在采用加密货币之前，一直有一位经营人控制交易的包容性和货币政策。 这个运营商代表了一个权力和故障的集中点。

随着2009年1月3日采用比特币，金融世界发生了根本变化。 在随后的岁月中，还建立了许多其他加密货币，以解决遗留金融领域的各种问题。

加密货币使用更清洁的加密、数学和货币奖励来建立一个系统，让称为农民或矿工的人得到管理该系统的报酬。 而且恶意行为者没有控制的中心点。

这带来了许多好处，其中一些好处是：

- **没有参与**的条件：任何有互联网连接的人都可以参与新的加密经济。 无论国籍、财富状况、宗教等如何。
- **审查抵制**: 审查是困难的或是不可能的。 任何人都可以随时交易和发送任何金额或运行任何程序。
- **独立的货币政策**: 可以创建不取决于一个集团或一个国家所作决定的新货币。 而是可以基于算法或有固定供应。
- **不可阻挡的应用程序**: 一个为一个安全的区块链开发和运行的程序永远不能更改或停止。 该方案本身可以拥有资金并进行金融交易。 代码可以自主运行，而不取决于人的操作者。 一些区块链应用程序包括：其他资产的令牌化、不可替代代币、贷款、汇款、身份钱包等。
- **全局标准**: 透过加密， 不同的国家和区域可以按照一种共同的标准进行互动和交易，这种标准应有明确的记载、完全开放的来源，并且免费提供。 不同的当事方可以一起使用一个中立的平台，这样可以降低那些建立在加密货币上面的人的成本。
- **安全**: 任何金融基础设施都有多种形式的攻击，包括虚拟和有形黑客、贿赂、网络问题等。 一个拥有100万节点的系统比前面提到的单个故障点更难攻击。

## 加密货币是如何工作的？

了解像比特币或Chia这样的加密货币如何工作的基本知识， 我们首先需要研究如何从零开始设计加密货币。 此部分针对的是区块链行业中新出现的人；其他人可以跳过它。

:::info

对于更深入的介绍，我们推荐书 [比特币和 Cryptocurrency Technologies](https://bitcoinbook.cs.princeton.edu/) ，该书还有免费的预印和视频讲座。

:::

我们可以依靠一个中央服务器来发送交易信息(使用用户名和密码)和公共API来读取数据。 然而，这并不是分散的，也没有带来上述大部分福利。 这是许多金融系统在比特币之前运作的方式。

我们将如何设计一个不依赖任何一方当事人的交易系统？

<div style={{textAlign: 'center'}}>
 <img src="/img/crypto01.png" alt="绘画" width="400"/>
</div>

### 认证

首先，我们需要一种安全的方式将交易发送到许多服务器。 让我们假定全世界有 1000 台服务器，而不只是一个 并且这些服务器将用户的交易信息发送给对方。

这些服务器假定由不同的实体(公司、人等)管理。 用户名和密码在这个分散化模式中不可用。 因为每个服务器都需要知道密码才能验证交易是否有效。 这将是极不安全的。

<div style={{textAlign: 'center'}}>
 <img src="/img/crypto02.png" alt="绘画" width="600"/>
</div>

相反，我们可以使用由Hellman、Merkle和Diffie发明的公用钥匙加密。

例如，一个名为 Alice 的用户保持一个密钥(也称为私钥) `sk_a`, 和公钥 `pk_a` 公钥在她的余额旁边的交易中张贴，让我们说1 BTC。 为了花费这笔钱，她需要用私人钥匙提供数字签名。 签字只能用公用钥匙和电文进行核查，并且是所签字的数据所特有的。

在这个分散的系统中运行的每个服务器都可以接受交易。 包括正在发送的硬币ID、接收信息和签名。

数字签字是加密货币的基本构件。

<div style={{textAlign: 'center'}}>
 <img src="/img/crypto03.png" alt="绘画" width="600"/>
</div>

### 双倍支出

然而，签名是不够的，因为有一个称为“双重支出问题”的问题。 在1 000台服务器中，有500台在亚洲，500台在美洲。 攻击者博布向两个服务器发送两笔花费同一硬币的交易：一个在亚洲，另一个在美洲。 这些交易将钱寄给不同的收款人，这是不应该允许的。

在这种情况下，两个服务器需要就哪一个交易先达成一致。 否则，它们将处于不同的状态，联合国系统将无法达成全球共识。 为了解决这个问题，我们需要一个协商一致的算法， 或使系统内所有计算机迅速就交易的排序和内容达成明确一致的方法。

鉴于我们正在努力建立一个全球分权和安全的系统， 为什么不允许每个人进行一次投票并增加投票来决定交易订单？ 如果能够做到这一点，将是很重要的，但不幸的是，这需要某种类型的中央党派。 首先决定谁是“人，然后创建这些身份。 这将使该系统中央化。

我们可以将系统建立在“一台电脑、一张投票”上，将每个IP地址计为“电脑”。 然而，购买新的 IP 地址或使用VPN 或代理服务器更改地址是微不足道的。 攻击者甚至可能会制造数百万个假的 IP 地址。 攻击者一旦拥有51%的地址，就会控制网络。 在这一点上，它们可以决定交易的订购和内容。 同样，该系统变得中央化，并可能受到损害。

难以解决双重支出问题的关键问题是Sybil攻击。 Sybil攻击是指攻击者以低成本制造大量假身份。 大多数“X的证明”区块链都不安全，因为如果攻击者创建多个身份，这将使攻击者获得优势。

Satoshi Nakamoto的天才是通过要求实际工作以获得“表决”并决定协商一致来解决双重支出问题。 这种“工作证明”是可加密验证的。 参与的唯一要求是计算机和互联网连接。

在工作网络证明中，每台参与的计算机都使用随机输入反复生成加密哈希。 它作为一张全球彩票， 在哪里生成哈希直到一台计算机生成一个赢家——一个带有一定数量前零的哈希。 这被称为 _工作证明_ ，因为没有快捷方式。 计算机必须通过生成哈希，将所需数量的计算“工作”放入其中。

当发现胜出证据时，发现它的计算机将获得在区块链中生成一个新的"块"的权利。 此方块包含前一个方块的指针，有效交易列表和赢得的哈希。 所有节点都必须接受最繁重的链条(最需要工作的链条)。 因此，所有节点都将接受新的区块，并重新开始工作抽签。

在比特币的协商一致算法中，每个证明平均需要10分钟才能生成。 随着更多的计算机加入网络，生成证据的平均时间自然会减少。 这使我们想到萨托希的另一个简单而优雅的想法：困难调整。 每2016年方块(平均两周)工作证明算法自动调整找到证据的难度。 它通过增加或减少生成的哈希中所需的前导零数来实现这一目标。 结果是，寻找证据所需的平均时间总是10分钟。 不管有多少计算机开始或停止参与工作抽签。

随着这一协商一致机制的建立，打击网络变得非常困难。 如果攻击者想要通过创建替代区块链来“重写历史” 他们需要比系统中诚实的行为者更快地创建新的块。 由于创建每个区块所需的工作证明， 攻击者需要比网络中所有其他计算机加起来更快地生成哈希。 这被称为“51%攻击”，稍后在 [共识攻击页](/consensus-attacks) 中详细讨论。

工作证明解决了双花问题 — — 只有一台计算机可以同时创建一个方块。 它还解决了 Sybil 问题 — — 不仅创建一个块不仅需要在硬件上进行真实世界的投资， 但它也没有给创造多重身份的人带来任何好处。 这个人有同样的赢得的概率，不管他们是在使用一个身份还是100万。

<div style={{textAlign: 'center'}}>
 <img src="/img/crypto04.png" alt="绘画" width="600"/>
</div>

### Blockchain

网络中的每个节点都与其他几个随机节点保持主动连接。 如果用户想要进行交易，他们会将它发送到网络中的任何节点，然后自动将它广播给他们的节点。 由于每个节点都连接到一个独特的节点，交易会很快传播到网络中的每个节点。 该节点然后保存交易，包括所有其他待处理的交易，本地内存。 这叫做 _备注_。

:::info
Chia's mempoor, see [Mempore 页面](/mempool).
:::

为了让每个节点搜索证据，它必须集合一个块来散列. 它这样做的方法是将备忘录池中的交易包括在内，它很可能选择支付最高费用的未决交易。 因此建立了交易费市场，供货是系统支持的每秒交易总额， 而且需求量是根据备忘录中的交易数量计算的。 交易一旦包含在一个具备所需工作证据的区块内，就被称为“确认”。

区块链交易还可以包括脚本或程序，允许直接用代码控制资金。 这种代码可能需要一定数量的签名才能发放资金，或者有任意的逻辑。

::info  
牢记区块链程序的运行费用很高，因为系统中的每个节点都必须下载和运行程序。 只是因为 _可以在 blockchain 上运行_ 并不意味着 _应该在_ 上运行。
:::

每个方块还有一个散列指针到前一个方块。 这意味着先前方块内容的散列已包含在当前方块中。 如果攻击者可以为一个历史区块找到另一种有效的证据， 证明会改变方块的哈希，这会使下一个方块失效。 如果攻击者想要改变在过去发生的10个方块， 因此，他们需要为至少10个区块重新做工作证明。 然而，该网络的其余部分将继续建立合法的区块。 这样，在现实中，攻击者很可能只能制造10个以上的方块。 In fact, as long as the rest of the network, combined, could create blocks at the same rate or faster, the attacker would _never_ be able to create a chain longer than the legitimate chain.

比特币网络每秒进行170百万五氯苯(170 000 000 000 000 000) 哈希； 攻击者至少必须控制大量的哈希力才能使51%的攻击变得可行。

<div style={{textAlign: 'center'}}>
 <img src="/img/crypto05.png" alt="绘画" width="1000"/>
</div>

### 超越工作证明

自从创建比特币和工作区块链证明以来，十多年过去了。 虽然工作证明相当安全， 安全要付出代价：需要花大量的能源来生产这170个五氯苯每秒钟。 此外，在这些系统上运行节点需要专门硬件。 这导致了高度集中的矿工。

或许最令人不安的是人才库。 在某一天内，前四或五个比特币池的哈希率占总哈希率的一半以上。 可以说，对比特币网络的攻击最容易的是池营运人进行串通(自愿或受到威胁)， 使得51%的攻击力远远落在可以达到的范围内。

这些问题促使人们制定了替代性的抵制Sybil共识模式。 Stake的证明(使用 blockchain assets)是最受欢迎的方法之一，在这个类别内有许多类型的算法。 这些制度往往在不同程度上损害权力下放（从而损害安全）。

Chia 采用了一个叫做 _空间和时间证明_ (PoST) 的备用方法， 我们认为，这可能比“利益证明”更加分散，更容易获得。 在这个模型中，完整的节点存储文件在硬盘驱动器上的哈希量（类似于彩票，如上文所述）。 这个模型维护了Nakamoto的工作证明的安全属性，但普通用户仍然可以在没有任何特殊硬件的情况下使用。
