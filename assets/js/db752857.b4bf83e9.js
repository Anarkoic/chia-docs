"use strict";(self.webpackChunkchia_docs=self.webpackChunkchia_docs||[]).push([[2098],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>f});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(a),d=n,f=m["".concat(s,".").concat(d)]||m[d]||c[d]||o;return a?r.createElement(f,l(l({ref:t},p),{},{components:a})):r.createElement(f,l({ref:t},p))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:n,l[1]=i;for(var u=2;u<o;u++)l[u]=a[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(7294),n=a(6010);const o={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:a,className:l}=e;return r.createElement("div",{role:"tabpanel",className:(0,n.Z)(o.tabItem,l),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>w});var r=a(7462),n=a(7294),o=a(6010),l=a(2466),i=a(6550),s=a(1980),u=a(7392),p=a(12);function m(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:r,default:n}}=e;return{value:t,label:a,attributes:r,default:n}}))}function c(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??m(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function d(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:a}=e;const r=(0,i.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s._X)(o),(0,n.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function h(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,o=c(e),[l,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=a.find((e=>e.default))??a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[s,u]=f({queryString:a,groupId:r}),[m,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,p.Nk)(a);return[r,(0,n.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:r}),g=(()=>{const e=s??m;return d({value:e,tabValues:o})?e:null})();(0,n.useLayoutEffect)((()=>{g&&i(g)}),[g]);return{selectedValue:l,selectValue:(0,n.useCallback)((e=>{if(!d({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),h(e)}),[u,h,o]),tabValues:o}}var g=a(2389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function k(e){let{className:t,block:a,selectedValue:i,selectValue:s,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:m}=(0,l.o5)(),c=e=>{const t=e.currentTarget,a=p.indexOf(t),r=u[a].value;r!==i&&(m(t),s(r))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;t=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;t=p[a]??p[p.length-1];break}}t?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:l}=e;return n.createElement("li",(0,r.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>p.push(e),onKeyDown:d,onClick:c},l,{className:(0,o.Z)("tabs__item",b.tabItem,l?.className,{"tabs__item--active":i===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:r}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function v(e){const t=h(e);return n.createElement("div",{className:(0,o.Z)("tabs-container",b.tabList)},n.createElement(k,(0,r.Z)({},e,t)),n.createElement(y,(0,r.Z)({},e,t)))}function w(e){const t=(0,g.Z)();return n.createElement(v,(0,r.Z)({key:String(t)},e))}},1193:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var r=a(7462),n=(a(7294),a(3905));a(4866),a(5162);const o={sidebar_label:"Choosing a Compression Level",title:"Choosing a compression level",slug:"/plotting-compression"},l=void 0,i={unversionedId:"plotting/plotting-compression",id:"plotting/plotting-compression",title:"Choosing a compression level",description:"If you opt to create compressed plots, you will need to decide on the level of compression.",source:"@site/docs/plotting/plotting-compression.md",sourceDirName:"plotting",slug:"/plotting-compression",permalink:"/plotting-compression",draft:!1,editUrl:"https://github.com/Chia-Network/chia-docs/blob/main/docs/plotting/plotting-compression.md",tags:[],version:"current",frontMatter:{sidebar_label:"Choosing a Compression Level",title:"Choosing a compression level",slug:"/plotting-compression"},sidebar:"tutorialSidebar",previous:{title:"Software",permalink:"/plotting-software"},next:{title:"How To Plot",permalink:"/plotting-how-to"}},s={},u=[{value:"Compression table",id:"compression-table",level:3},{value:"TCO spreadsheet",id:"tco-spreadsheet",level:3},{value:"Max farm size estimator",id:"max-farm-size-estimator",level:3},{value:"BladeBit Simulate",id:"bladebit-simulate",level:3}],p={toc:u},m="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"If you opt to create compressed plots, you will need to decide on the level of compression."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"You can mix and match plots with different compression levels. For example, you could have some C0, C3, and C7 plots on the same machine. Your harvester will handle this without issue. However, most users will likely choose to convert all of their plots to the same compression level.")),(0,n.kt)("p",null,"As a reminder, BladeBit CUDA and BladeBit RAM are plotters supported by CNI that are capable of creating compressed plots. Whenever we mention compression levels, we are referring to those defined by BladeBit. (Many people have also used the third-party ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/madMAx43v3r/chia-gigahorse"},"GigaHorse")," plotter by madMAx. This plotter uses a similar nomenclature for its compression levels, but they have different definitions.) "),(0,n.kt)("p",null,"The next sections list three methods to determine the compression level that will work best for your farm, starting with the most general and ending with the most specific for your own hardware."),(0,n.kt)("h3",{id:"compression-table"},"Compression table"),(0,n.kt)("p",null,"You can use the following table as a basic guide for choosing a compression level. It assumes BladeBit CUDA was used to create K32 plots:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},(0,n.kt)("br",null),"Level"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Size ",(0,n.kt)("br",null),"(GiB)"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Relative ",(0,n.kt)("br",null),"Size"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Reward ",(0,n.kt)("br",null),"Increase"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Min Spec ",(0,n.kt)("br",null)," Harvester"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C0"),(0,n.kt)("td",{parentName:"tr",align:"left"},"101.4"),(0,n.kt)("td",{parentName:"tr",align:"left"},"100%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"0%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Pi 4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C1"),(0,n.kt)("td",{parentName:"tr",align:"left"},"87.5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"86.3%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"15.9%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Pi 4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C2"),(0,n.kt)("td",{parentName:"tr",align:"left"},"86.0"),(0,n.kt)("td",{parentName:"tr",align:"left"},"84.8%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"17.9%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Pi 4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C3"),(0,n.kt)("td",{parentName:"tr",align:"left"},"84.5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"83.3%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"20.0%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Pi 4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C4"),(0,n.kt)("td",{parentName:"tr",align:"left"},"82.9"),(0,n.kt)("td",{parentName:"tr",align:"left"},"81.8%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"22.3%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Desktop CPU")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C5"),(0,n.kt)("td",{parentName:"tr",align:"left"},"81.3"),(0,n.kt)("td",{parentName:"tr",align:"left"},"80.2%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"24.7%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Fast CPU")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C6"),(0,n.kt)("td",{parentName:"tr",align:"left"},"79.6"),(0,n.kt)("td",{parentName:"tr",align:"left"},"78.5%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"27.4%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Fast CPU")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C7"),(0,n.kt)("td",{parentName:"tr",align:"left"},"78.0"),(0,n.kt)("td",{parentName:"tr",align:"left"},"76.9%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"29.8%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"GPU")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"C9"),(0,n.kt)("td",{parentName:"tr",align:"left"},"75.2"),(0,n.kt)("td",{parentName:"tr",align:"left"},"74.2%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"34.8%"),(0,n.kt)("td",{parentName:"tr",align:"left"},"GPU")))),(0,n.kt)("p",null,"The right column (Min Spec Harvester) shows the minimum type of computer required for harvesting at each compression level, where:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Pi 4")," refers to Chia's minimum spec hardware, the ",(0,n.kt)("a",{parentName:"li",href:"https://www.raspberrypi.com/products/raspberry-pi-4-model-b/"},"Raspberry Pi 4")," with 4 GB of RAM for CLI farming, or 8 GB for GUI farming."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Desktop CPU")," refers to a power-sipping computer such as the ",(0,n.kt)("a",{parentName:"li",href:"https://www.androidcentral.com/best-chromebox"},"ASUS Chromebox"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Fast CPU")," refers to a computer with a higher-end CPU such as an Intel Xeon."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"GPU")," refers to a computer with an Nvidia CUDA-class GPU with at least 8 GB of VRAM.")),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"A few things to keep in mind regarding these recommendations:"),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"The above table is meant as a general overview; it therefore assumes that your farm is somewhere from 500-1000 TiB."),(0,n.kt)("li",{parentName:"ul"},"The more plots your farm has, the higher-end your harvester needs to be, all other factors being equal."))),(0,n.kt)("h3",{id:"tco-spreadsheet"},"TCO spreadsheet"),(0,n.kt)("p",null,"In order to calculate your potential profits from farming at various compression levels, you can use ",(0,n.kt)("a",{parentName:"p",href:"https://docs.google.com/spreadsheets/d/1k6c-OBDtggXqnEfOPdMmq3646puzvOD7dWojwCH2v3c"},"this spreadsheet"),". Simply make a copy of it, then fill in the constants according to your farm. As you will see from the spreadsheet, the compression level you will ultimately choose will depend on a number of factors, such as electricity cost and the size of your farm."),(0,n.kt)("h3",{id:"max-farm-size-estimator"},"Max farm size estimator"),(0,n.kt)("p",null,"The third-party website ",(0,n.kt)("a",{parentName:"p",href:"https://xch.farm/max-farm-size"},"xch.farm")," has tables for estimating your farm's maximum capacity depending on your CPU/GPU setup. Be sure to pay attention to the ",(0,n.kt)("inlineCode",{parentName:"p"},"June 2024")," column when planning your farm. If your harvester is capable of handling your desired number of plots listed in this column, you should be good to go until 2027 or later."),(0,n.kt)("h3",{id:"bladebit-simulate"},"BladeBit Simulate"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"/plotting-software#bladebit-standalone"},"standalone version of BladeBit")," comes with a simulator that will determine the maximum size of your farm. The basic idea is that you pass in a compressed plot (C1-C9) and it will calculate the maximum number of plots/space your current harvester can handle."),(0,n.kt)("p",null,"See the ",(0,n.kt)("a",{parentName:"p",href:"/plotters-cli#simulate"},"CLI reference")," for a list of options using the simulator."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The simulator's default values are typically fine, other than the filter size. For context, starting in June 2024 the plot filter will be reduced from 512 to 256. At this point, twice as many plots will pass the filter, so your harvester's workload will effectively double. You are recommended to use ",(0,n.kt)("inlineCode",{parentName:"p"},"-f 256")," with the simulator to prepare for this event. For more information on the plot filter, see our ",(0,n.kt)("a",{parentName:"p",href:"/faq#what-is-the-plot-filter-and-why-didnt-my-plot-pass-it"},"FAQ"),".")),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"It is a good idea to create plots of various sizes (for example, one C3, one C7, and one C9) and then run the simulator against each of them. This will help you to plan for how many harvesters to use, the type of hardware to acquire, etc.")),(0,n.kt)("p",null,"The simulator's default mode will decompress your plot and then extrapolate your farm's maximum size, which should only take a few seconds."),(0,n.kt)("p",null,"Example command using the default mode and a filter size of 256:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"bladebit simulate -f 256 <path to plot file>\n")),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The simulator will only work with compressed plots.")),(0,n.kt)("p",null,"The simulator can also be configured to run a real-time simulation against a farm of any given size. This will give you a much better idea of how your system will perform on mainnet. To activate this mode, use the following flags:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"--power <time>")," -- The number of seconds the simulation will run"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"--size <size>")," -- The size of the farm to simulate")),(0,n.kt)("p",null,"Every 9.375 seconds, a new simulated signage point will be received, and a number of simulated plots will be decompressed based on the value of ",(0,n.kt)("inlineCode",{parentName:"p"},"--size"),". For example, the following command will simulate running a 1 PB farm for ten minutes:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"bladebit simulate --power 600 --size 1PB -f 256 <path to plot file>\n")),(0,n.kt)("p",null,"At the end of the simulation, a number of statistics will be shown. It is a good idea to keep the maximum lookup time at around five seconds in order to avoid missing any signage points. If the maximum time is greater than ten seconds, then you are advised to either reduce the number of plots on your harvester, use a lower level of compression, or use a faster CPU or GPU for harvesting."),(0,n.kt)("p",null,"For a detailed analysis of how the tool works and how you should be thinking about plot compression, see ",(0,n.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=cZfptl66TLE"},"this video demonstration")," by JM."))}c.isMDXComponent=!0}}]);